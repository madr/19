<!doctype html><html lang=sv><head><meta charset=UTF-8><title>vertikal centrering med CSS, anno 2009 | Anders Ytterstr√∂ms hemsida</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=/madrse.css><link href=/prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2009/117/ ><meta property=og:title content="vertikal centrering med CSS, anno 2009"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2009/117/ ><meta property=og:image content=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276><meta property=og:site_name content="Anders Ytterstr√∂ms hemsida"></head><body><a href=#content class=skiplink>Hoppa till inneh√•ll</a><header><a href=/ rel=home>madr.se</a><nav><a href=/bl/ >ü§ò Br√ºtal Legend</a> <a href=/evenemang/ >üìÖ Evenemang</a> <a href=/om/ >ü§∑‚Äç‚ôÇÔ∏è Om</a> <a href=/prenumerera.xml rel=alternate title="Prenumerera via Atom">üì£</a></nav></header><main id=content><p class=alert--archived><i>Detta √§r ett arkiverat inl√§gg, som importerats hit f√∂r referens. Det kan se konstigt ut och inneh√•lla utdaterad information eller inaktuella √•sikter.</i></p><article><h1>vertikal centrering med CSS, anno 2009</h1><footer><time>2009-04-05</time> av <a rel=author href=/om><img src=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276 alt=portr√§tt> Anders Ytterstr√∂m</a></footer><p>En av mina popul√§raste sidor enligt google √§r min utv√§rdering av <a href=/blog/64>vertikal centrering med CSS</a>. Jag har sedan en tid k√§nt att det inl√§gget inte √§r riktigt komplett, d√• det saknas handfast kod p√• hur det praktiskt g√•r till att skapa vertikal centrering f√∂r alla webbl√§sare, till och med <a href=/blog/113 title="Vad g√∂r du f√∂r att slippa Internet Explorer 6?">IE6</a>. Nyfikna l√§sare m√•ste l√§sa hela min text och klicka sig vidare i en l√§nk l√§ngst ner, och gissa sig fram till koden. Inte s√• schysst. Ist√§llet f√∂r att uppdatera inl√§gget kompletterar jag med ett nytt, som visar hur en praktisk CSS-klass <code>valignfix</code> skapas, men ocks√• hur CSS-koden kan anv√§ndas p√• enstaka element.</p><h2 id=html-kod-att-utg-fr-n>HTML-kod att utg√• fr√•n</h2><p>Min f√∂ljande CSS-kod utg√•r fr√•n en HTML-kod, bara f√∂r att visa ett exempel.</p><pre><code>&lt;div class=&quot;valignfix&quot;&gt;
        &lt;div&gt;
                &lt;div&gt;
                        &lt;h1&gt;Vertikalt centrerad&lt;/h1&gt;
                        &lt;h2&gt;Jag ligger minsann i mitten!&lt;/h2&gt;
                &lt;/div&gt;
        &lt;/div&gt;
        &lt;img src=&quot;matterhorn.jpg&quot; alt=&quot;Matternhorn, ett h√∂gt berg&quot;&gt;
&lt;/div&gt;</code></pre><p>HTML-koden ser ut s√• baserat p√• en rad f√∂ruts√§ttningar och beslut baserade p√• god semantik och skalbarhet.</p><ul><li><code>valignfix</code> anv√§nds f√∂r att skapa ett √•teranv√§ndbart macro, i stil med <a href=http://www.positioniseverything.net/easyclearing.html title="How To Clear Floats Without Structural Markup">clearfix</a>.</li><li>Inga on√∂diga klassnamn eller ID.</li><li>Den f√∂rsta <code>&lt;div&gt;</code> inneh√•ller det inneh√•ll som ska positioneras vertikalt. F√∂r att underl√§tta gruppering och f√• det att fungera i IE6 och IE7 l√§ggs inneh√•llet i ytterligare en <code>&lt;div&gt;</code>.</li><li>T√§tt f√∂ljt av det centrerade inneh√•llet √§r det inneh√•ll som √§r h√∂gt, i exemplet en bild. Men det kan lika g√§rna vara n√•got annat, t ex en meny.</li></ul><h2 id=css-tabeller-s-tter-hjulet-i-rullning>CSS-tabeller s√§tter hjulet i rullning</h2><p>F√∂r alla moderna webbl√§sare finns ett utbrett och redan bepr√∂vat st√∂d f√∂r <em>CSS-tabeller</em>. Genom att anv√§nda <code>display:table</code> och <code>display:table-cell</code> √§r vi mer √§n halvv√§gs.</p><pre><code>*.valign {
        display:table-row;
}
        *.valign &gt; * {
                width:50%;
                display:table-cell;
                vertical-align:middle;
        }</code></pre><p>Ovanst√•ende l√∂sning √§r fullt tillr√§cklig f√∂r Internet Explorer 8+, Firefox 2+, Opera 8+ och Safari 2+. Vi har de roliga kvar: IE7 och IE6.</p><h2 id=ie7-och-ie6-l-ser-det-med-positionering>IE7 och IE6 l√∂ser det med positionering</h2><p>Vid utvecklingen av IE7 prioriterade Microsoft upp CSS2 selektorer och allvarliga renderingsbuggar, men st√∂det f√∂r CSS-tabeller uteblev. Med hj√§lp av ett CSS filter f√∂r de b√•da webbl√§sarna g√•r det att g√∂ra en liknande l√∂sning med en blandning av absolut och relativ positionering. B√•de IE6 och IE7 fungerar med <a href="http://css-discuss.incutio.com/?page=StarHtmlHack" title="Star HTML hack">stj√§rna HTML hacket</a>, den osynliga wrappern kring <code>&lt;html&gt;</code>.</p><pre><code>* html *.valign,
*+html *.valign {
        position:relative;
        overflow:auto;
}
        * html *.valign div,
        *+html *.valign div {
                position:absolute;
                top:50%;
        }
                * html *.valign div div,
                *+html *.valign div div {
                        position:relative;
                        top:-50%;
                }
                        * html *.valign div div *,
                        *+html *.valign div div * {
                                position:static;
                                top:0;
                        }
        /* g√∂r bilden eller annat h√∂gt element till float. */
        * html *.valign img,
        *+html *.valign img {
                float:right;
        }</code></pre><h2 id=det-linkar-men-r-inte-identisk>Det linkar, men √§r inte identisk</h2><p>V√§rt att ha i √•tanke √§r att l√∂sningen f√∂r IE7 och IE6 √§r inte fullt s√• anv√§ndbar och skalbar som CSS tables.</p><ul><li>Det h√∂ga objektet m√•ste vara definierat i f√∂rv√§g f√∂r att n√•got inneh√•ll √∂verhuvudtaget ska kunna centreras.</li><li>Det h√∂ga objektet m√•ste anpassas med floats f√∂r att ligga till h√∂ger eller v√§nster.</li><li>Det vertikalt centrerade inneh√•llet kan beh√∂va extra positions-CSS f√∂r att ligga r√§tt, vilket kan inneb√§ra att dimensionerna p√• det h√∂ga objektet m√•ste vara best√§mt.</li></ul><p>Det t√§pper likv√§l igen h√•len i de flesta fall d√§r vertikal centrering √§r √∂nskv√§rt. Koden validerar och kan s√§kert anv√§ndas i samma CSS-fil, √§ven om jag personligen f√∂redrar att g√∂mma IE-kod i en egen CSS-fil som infogas via <a href=http://en.wikipedia.org/wiki/Conditional_comments>Conditional Comments</a> Den √§r framtidss√§ker, d√• anv√§nt CSS filter upph√∂r att fungera fr o m IE8 d√§r CSS tables fungerar korrekt.</p><p>Och d√§r har vi det. En ren CSS-l√∂sning f√∂r vertikal centrering. Ta en titt i <a href=/~ay/labs/css/valign>exempelfilen</a> f√∂r att se resultatet. Jag har en <a href=/~ay/labs/css/valign/valign.css>rikligt dokumenterad version</a> och en <a href=/~ay/labs/css/valign/valign-mini.css>kompakt version f√∂r produktion</a> att ta del av vid intresse!</p></article></main><footer><p><a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr√∂m sedan dec 2006. <a rel=alternate href=/prenumerera.xml>Prenumerera</a>.</p></footer></body></html>