<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Ett roligt och lärorikt JavaScript-quiz | Anders Ytterströms hemsida</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=/madrse.css><link href=/prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2010/144/ ><meta property=og:title content="Ett roligt och lärorikt JavaScript-quiz"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2010/144/ ><meta property=og:image content=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276><meta property=og:site_name content="Anders Ytterströms hemsida"></head><body><a href=#content class=skiplink>Hoppa till innehåll</a><header><a href=/ rel=home>madr.se</a><nav><a href=/bl/ >🤘 Brütal Legend</a> <a href=/evenemang/ >📅 Evenemang</a> <a href=/om/ >🤷‍♂️ Om</a> <a href=http://broken-close-swan.gigalixirapp.com/live>🎲 RISK</a> <a href=/prenumerera.xml rel=alternate title="Prenumerera via Atom">📣</a></nav></header><main id=content><p class=alert--archived><i>Detta är ett arkiverat inlägg, som importerats hit för referens. Det kan se konstigt ut och innehålla utdaterad information eller inaktuella åsikter.</i></p><article><h1>Ett roligt och lärorikt JavaScript-quiz</h1><footer><time>2010-02-20</time> av <a rel=author href=/om><img src=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276 alt=porträtt> Anders Ytterström</a></footer><p>Tidigare i veckan publicerades <a href="http://www.nczonline.net/blog/2010/02/16/my-javascript-quiz/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+nczonline+%28NCZOnline+-+The+Official+Web+Site+of+Nicholas+C.+Zakas%29">My JavaScript quiz</a>, författat av <a href=http://nczonline.net>Nicholas C. Zakas</a> som kan ses som en guru i JavaScript. Nyfiken kastade jag mig in i testet genast, mindre än 20 minuter efter att jag vaknat.</p><p>Kanske var det bristen på <a href=http://skitch.com/madr/niej5/pict0002>morgonkaffet</a> som var orsaken, men jag hade en hel del fel när jag rättade mina svar. Som för att lära mig själv eventuellt andra som läser det här ska jag därför lista de felaktigheter jag hade.</p><ul><li><p><strong>++x och x++</strong>. Jag trodde att <code>x+++y</code> (tre plustecken) utlästes <code>x + ++y</code>, vilket alltså skulle innebära att y ökade med 1 innan den lades samman med x. Så är alltså inte fallet, utan i själva verket tolkas det som <code>x++ + y</code>; x och y adderas med x gamla värde, och x ökar med ett genast efteråt.</p></li><li><p><strong>setTimeout sker (självklart) i Window closure.</strong> Här var jag ivrig och hakade upp mig på <code>this</code>. Det här är ett nybörjarfel som även duktiga javascriptare blir skyldiga till ibland. Closures kan dock användas för att använda objektets x också. ::: {.CodeRay} ::: {.code}</p><pre><code>var that = this;setTimeout(function () {  alert(that.x);});</code></pre><p>::: :::</p></li><li><p><strong>Strängar vid jämförelser</strong>. Om en operand är ett tal, kommer den andra operanden om den är en sträng att konverteras till ett tal (detta gäller oavsett operandens sida om hakparantesen). Om båda är strängar, kommer en jämförelse mot ASCII-värdet att göras (förenklat). Notera här att tal <em>konverterar strängar</em> vid jämförelser; tal har högre prio (eller något).</p></li><li><p><strong>Strängar vid addering</strong>. Här <em>konverteras alltid tal till strängar</em> om en sträng förekommer. Strängar har alltså högre prio (eller något). Det är alltså motsatt beteende jämtemot jämförelser. Det visste jag inte.</p></li><li><p><strong>Skillnaden på obj.valueOf() och obj.toString().</strong> Det finns en skillnad. <code>o.valueOf()</code> används när ett värde efterfrågas vid en operation, t ex vid jämförelse eller en addering. <code>toString()</code> däremot används när en representation av objektet efterfrågas, typ vid <code>alert({});</code>.</p></li></ul><p>That's about it. Zakas har nyligen publicerat en bok också, som berättas om i <a href=http://www.nczonline.net/blog/2010/02/09/announcing-high-performance-javascript/ >High Performance JavaScript</a>. Jag gillade hans bidrag i <a href=http://www.anobii.com/books/Even_Faster_Web_Sites/9780596522308/011ceef6537b9c9a54/ >Even faster Websites</a>, så den är en kandidat till min "att läsa"-lista.</p></article></main><footer><p><a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterström sedan dec 2006. <a rel=alternate href=/prenumerera.xml>Prenumerera</a>.</p></footer></body></html>