<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Hackad p친 AWS - en snabb redog칬relse | Skrivna ord av Anders Ytterstr칬m.</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2014/aws/ ><meta property=og:title content="Hackad p친 AWS - en snabb redog칬relse"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2014/aws/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterstr칬m."></head><body><a href=#content class=skiplink>Hoppa till inneh친ll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018."></a><p class=presentation>Anders 칛r en webbutvecklare och h친rdrockare som gillar br칛dspel, kaffe och 칬l. <a href=../../om/ rel=author>Om Anders Ytterstr칬m</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../bl/ >游뱆 Br칲tal Legend</a> <a class=nav__item href=../../evenemang/ >游늰 Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >游 Br칛dspel</a> <a class=nav__item href=https://madr.github.io/urban-enigma/ >游 Styrketr칛ning</a></nav></header><main id=content><article><h1>Hackad p친 AWS - en snabb redog칬relse</h1><p>S친, f칬ljande har h칛nt:</p><ol><li>Under september m친nad kapades mitt konto p친 Amazon Web Services (AWS).</li><li><strong>Onsdagen den 24 september</strong> ombads jag av ett mail fr친n AWS att byta l칬senord, ta bort mina s칛kerhetsnycklar och se om n친got konstigt fanns p친 mitt konto.</li><li><strong>Fredagen den 26 september</strong> fick jag ett telefonsamtal fr친n AWS support d칛r de upplyste mig om att jag blivit utsatt f칬r intr친ng p친 EC2 och hur jag kunde logga in och st칛nga ner de av mig ej skapade tj칛nsterna, samt hur jag skulle driva detta vidare. Det var n칛r jag gjorde detta som jag fick se vad intr친nget st칛llt till med - Ec2-missbruk f칬r ungef칛r $18.000.</li><li>Samma fredag, efter 친tg칛rderna telefonsamtalet inneh칬ll vidtagits, mailar jag Amazon och skriver om hela h칛ndelsef칬rloppet.</li><li><strong>S칬ndagen den 28 september</strong> f친r jag ytterligare instruktioner om att f칬rs칛kra mig om att allt intr친nget skapat verkligen 칛r avst칛ngt. I samband med detta skapades ett 칛rende i deras Support center.</li><li>Fr친n 29 september till 2 oktober uppdaterar Amazon mig via 칛rendet. Deras ambition 칛r att se till att jag inte beh칬ver betala n친got av de $18.000 som intr친nget orsakade.</li><li>Idag, den 8 oktober, blev det klart att jag inte beh칬ver betala n친got.</li></ol><p>N친gra fr친gor som jag h칛r ska besvara:</p><p><strong>Hur fick hackern tillg친ng till mitt konto?</strong><br>Mitt l칬senord och mina s칛kerhetsnycklar 칛r autogenererat och unikt f칬r AWS. Det ligger sparat i en l칬senordsfil som ligger p친 Dropbox med tv친stegsverifiering p친slaget. Tisdagen den 23 september r친kade jag d칛remot av misstag pusha upp mina s칛kerhetsnycklar till ett publikt repo p친 Github. Jag uppt칛ckte detta ett par timmar senare och tog genast bort hela repot. Min misstanke 칛r att en bot lyckades komma 칬ver dem under den tidsramen.</p><p><strong>Vad bestod intr친nget av?</strong><br>20 maxade EC2-instanser per region (친tta stycken), samt ytterligare n친gra i Spot Request Queue (dessa var k칬ade f칬r en plats i sin region). Samtliga dessa skapades innan jag bytte l칬senord p친 onsdagen den 24 september och ingenting mer skapades efter det. Jag uppt칛ckte dock inte EC2-maskinerna f칬rr칛n samtalet p친 fredagen den 26 september d친 jag inte anv칛nde EC2 och d칛rf칬r inte t칛nkte p친 att kika d칛r i och med att jag blev ombedd att byta l칬senord p친 onsdagen.</p><p><strong>Hur hanterade AWS det hela?</strong><br>I mina 칬gon fl칛ckfritt - de uppdaterade mig l칬pande och var de som tog kontakt med mig s친 snart de misst칛nkte intr친ng, via s친v칛l mail som telefon. De var ocks친 snabba med att starta en utredning och var fr친n b칬rjan inst칛llda p친 att detta inte skulle debiteras mig. Deras instruktioner till mig var tydliga och pedagogiska, och jag kunde snabbt reagera p친 de 친tg칛rder som var 친lagda mig.</p><h2>L칛rdomarna</h2><ul><li>Skriv <strong>aldrig</strong> AWS-s칛kerhetsnyckeln direkt i kod - ens i de minsta snabbhacken! H친ll det borta med nolltolerans s친 hamnar det aldrig i n친gon versionshantering av misstag. I mitt fall var det n친gra rader JavaScript jag fuskade ihop p친 en lunchrast. Knappast v칛rt det f칬r att uts칛tta sig sj칛lv f칬r risken att bi utsatt f칬r intr친ng.</li><li>S칛tt upp ett <strong>billing alarm</strong> p친 AWS - det hade jag inte gjort, och det hade besparat mig den l친nga tiden innan jag kunde reagera. Numera har jag ett billing alarm p친 $1 som kommer att spamma mig s친 snart n친got drar iv칛g p친 AWS.</li></ul></article></main><aside><h2 class=h--aside>Senaste inl칛ggen</h2><ul class=recents><li class=recents__item><a href=../../2019/meta>Tuffa saker i senaste iterationen av madr.se</a></li><li class=recents__item><a href=../../2019/apps>Vad ber칛ttar mina program om mig?</a></li><li class=recents__item><a href=../../2019/ridderligheten>G칛rning i ridderlighetens namn</a></li><li class=recents__item><a href=../../2019/react-redux>Varf칬r och hur jag ska f칬rdjupa mig i React 2019</a></li><li class=recents__item><a href=../../2019/elixir>Varf칬r och hur jag ska fokusera p친 att l칛ra mig Elixir 2019</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Mayhem </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-11-29T00:00:00Z class=upcoming__item__when itemprop=startDate><span>29</span> <span>nov</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wardruna </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-12-01T00:00:00Z class=upcoming__item__when itemprop=startDate><span>1</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Amon Amarth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-12-07T00:00:00Z class=upcoming__item__when itemprop=startDate><span>7</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Solstafir </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-12-18T00:00:00Z class=upcoming__item__when itemprop=startDate><span>18</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Opeth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Cirkus</span>, Stockholm </span><time datetime=2020-01-13T00:00:00Z class=upcoming__item__when itemprop=startDate><span>13</span> <span>jan</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Coraline </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Folkoperan</span>, Stockholm </span><time datetime=2020-02-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>feb</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Gefle Metal Festival 4 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Gasklockorna</span>, G칛vle </span><time datetime=2020-07-09T00:00:00Z class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Wacken</span>, Tyskland </span><time datetime=2020-07-30T00:00:00Z class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Jarom캩콏</span>, Tjeckien </span><time datetime=2020-08-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span></time></li></ul></aside><footer><p>Publicerades <time>2014-10-08</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr칬m sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och CSS 3.</p></footer></body></html>