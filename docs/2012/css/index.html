<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Hur jag slutade k√§mpa emot och b√∂rjade skriva b√§ttre CSS | Anders Ytterstr√∂ms hemsida</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=/madrse.css><link href=/prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2012/css/ ><meta property=og:title content="Hur jag slutade k√§mpa emot och b√∂rjade skriva b√§ttre CSS"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2012/css/ ><meta property=og:image content=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276><meta property=og:site_name content="Anders Ytterstr√∂ms hemsida"></head><body><a href=#content class=skiplink>Hoppa till inneh√•ll</a><header><a href=/ rel=home>madr.se</a><nav><a href=/bl/ >ü§ò Br√ºtal Legend</a> <a href=/evenemang/ >üìÖ Evenemang</a> <a href=/om/ >ü§∑‚Äç‚ôÇÔ∏è Om</a> <a href=/prenumerera.xml rel=alternate title="Prenumerera via Atom">üì£</a></nav></header><main id=content><article><h1>Hur jag slutade k√§mpa emot och b√∂rjade skriva b√§ttre CSS</h1><footer><time>2012-06-28</time> av <a rel=author href=/om><img src=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276 alt=portr√§tt> Anders Ytterstr√∂m</a></footer><p>Jag har sedan sju √•r tillbaka varit n√§rmast militant vad g√§ller POSH. Att skriva semantisk HTML inom ramar s√§llan angivna av enbart mig sj√§lv har varit en st√§ndig utmaning om jag gladerligen axlat.</p><p>Jag tillh√∂r gamla skolans webbstandardistor, som l√§nge f√∂respr√•kat klinisk ren HTML-kod, i andan som Roger Johansson sammanfattar i <a href=http://www.456bereastreet.com/lab/web_development_mistakes/sv/ >Vanliga misstag inom webbuteckling</a>.</p><ul><li>Klasser och ID ska inte agera CSS-krokar.</li><li>De klasser och ID som finns ska tillf√∂ra dokumentet och inneh√•llet n√•got.</li><li>D√§r CSS kan appliceras utan klasser eller ID, ska ingen klass eller ID f√∂rekomma (f√∂r CSS-f√∂rfattandets skull).</li></ul><p>P√• Jaiku har jag till exempel diskuterat detta i tr√•den <a href=http://madr.jaikuarchive.com/presence/444e307bdee841e7a71de13b76e5ade6>Objektorienterad CSS? L√•ter s√•v√§l sp√§nnande som absurt.</a> d√§r jag sammanfattar den syn jag l√§nge haft.</p><h2 id=det-d-r-med-rit-prestandan>Det d√§r med rit-prestandan</h2><p>Jag √§r dock inte l√§ngre inte l√§ngre samma √∂vertygelse. Det som framf√∂rallt fick mig att grundligt omv√§rdera min bild √§r fr√§mst tv√• omst√§ndigheter.</p><ul><li>En av de projekt jag deltog i fick allvarliga problem med <a href=http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/ >reflows och repaints</a>. Jag f√∂ljde alla best-practices som jag sj√§lv s√• religi√∂st predikat och m√§rkte att sajten - <a href=http://snorapporten.se>en interaktiv historia med s√•v√§l flash som Ajax</a> - k√§ndes sl√∂ i responsen. Till r√•ga p√• allt blev √§ven CSS-filen bara st√∂rre och st√∂rre.</li><li>Mitt deltagande i ett samordningsprojekt d√§r <a href=http://mktmedia.se/om-mktmedia/gemensamma-plattformar/ >40 sajter delade HTML-kod</a> men √§gde sin egen CSS och JavaScript. Mitt arbetslag hade som ambition att √∂vertr√§ffa all tidigare HTML-kod vi f√∂rfattat - utifr√•n samma v√§rdegrunder som n√§mns ovan - med s√• f√• kompromisser som m√∂jligt till f√∂rm√•n f√∂r flexibelt designarbete och bra st√∂d f√∂r webbl√§sare (p√• den h√§r tiden var IE6 enskilt st√∂rst). Projektet led i slutskedet av mycket allvarliga prestandaproblem; inte med svarstider, utan med reflows och repaints.</li></ul><p>Jag ins√•g att det m√•ste finnas n√•got annat s√§tt. Ett b√§ttre s√§tt. <em>R√§tt s√§tt</em>.</p><h2 id=css-som-ett-eget-sj-lvsammanh-ngande-lager>CSS som ett eget, sj√§lvsammanh√§ngande lager</h2><p>Det √§r ofta de tre lagren struktur, presentation och beteende omn√§mns n√§r webbstandarder diskuteras. Likv√§l har de fr√§mst alltid l√•tit presentationslagret (CSS) speglas och bli h√•rt knuten till strukturen (HTML). Jag √§r numera av √•sikten att det √§r h√§r √§r roten till d√•ligt skriven CSS.</p><p>Vi l√§gger stor m√∂da p√• att skriva validerande, semantisk och hj√§lpsam HTML. Vi avlusar och skruvar p√• v√•ra script f√∂r att inte skapa sajter som √§r tr√∂ga och f√• Steve Souders att sova b√§ttre om n√§tterna. CSS d√§remot har varit en eller flera filer dit kod skyfflats in f√∂r att uppn√• de krav sajtens presentation har p√• sig. Det √§r en aning snedf√∂rdelat, har jag kommit fram till.</p><p>Jag √§r numera av den best√§mda √•sikten att CSS ska organiseras och refaktoriseras med samma omsorg som vi hittills lagt p√• scripts och uppm√§rkning. √Ñven Fleecelabs har varit inne p√• samma sak i bloggposterna <a href=http://f.fleecelabs.se/post/16017015153/dags-att-omvardera-semantisk-html>Dags att omv√§rdera semantisk HTML?</a> och <a href=http://f.fleecelabs.se/post/17428569299/darfor-maste-vi-diskutera-hur-vi-bygger-css>D√§rf√∂r m√•ste vi diskutera hur vi bygger CSS</a>.</p><p>Fler √§n en smartskalle har t√§nkt p√• detta och angripit det olika.</p><ul><li><a href=http://twitter.com/stubbornella>Nicole Sullivan</a> har tagit fram den kontroversiella filosofin <a href=http://oocss.org>Objectorienterad CSS</a> som <a href=https://github.com/stubbornella/oocss>√§ven gett namn √•t ett CSS-bibliotek</a>.</li><li><a href=http://twitter.com/snookca>Jonathan Snook</a> hade mycket tankar i huvudet en regnig dag och b√∂rjade skriva det som idag √§r e-boken och workshoparna <a href=http://smacss.com>Scalable, Modular Architecture for CSS (SMACSS)</a>.</li><li>Sullivan/<a href=http://nczonline.net>Zakas</a> tar CSS p√• stort allvar och skapade det f√∂rsta verktyget som s√•rar CSS-utvecklares k√§nslor: <a href=http://csslint.net>CSSlint</a>.</li><li>Kyle Neath tr√∂ttnade p√• att ingen annan smartskalle pratade om dokumentation och skapade d√§rf√∂r <a href=http://warpspire.com/posts/kss/ >Knyle Style Sheets</a>, som √§r ett fenomenalt f√∂rs√∂k att skapa regler f√∂r CSS-dokumentation som <em>g√∂r nytta</em>.</li></ul><p>Just klasser eller ej √§r det som skapat mest uppr√∂rda k√§nslor, d√• m√•nga √§r ypperligt f√§sta vid att skriva ID-selektorer i sin CSS-kod.</p><p>Som sagt, √§ven jag var den personen. Tills jag ins√•g att class-attributet redan f√∂rlorat sin glans.</p><h2 id=wai-aria-landmark-roles-html5-microdata>WAI-ARIA landmark roles, HTML5, Microdata</h2><p>Class-besattheten uppkom i en tid d√§r vi m√§rkte upp v√•rt inneh√•ll med XHTML 1.0 Strict och HTML4. En tid d√§r vi slet h√•rt med listor, <code>DIV</code> och nitiskt kedjade rubriker. V√•r enda utv√§g f√∂r att skapa ytterligare semantik d√• var klasser. Detta understryktes ytterligare n√§r vi b√∂rjade f√∂rs√∂ka enas om konventioner f√∂r klassernas namn i form av <a href=http://microformats.org>Mikroformat</a>.</p><p>Det var d√•. Nu har vi andra f√∂ruts√§ttningar.</p><ul><li><strong>HTML5</strong>. Nya, semantiska element som faktiskt tillf√∂r riktig nytta. <code>nav</code> beh√∂ver ingen beskrivande klass, det √§r en huvudmeny. Detsamma g√§ller <code>header</code> och <code>footer</code>. <code>article</code> √§r av s√§rskilt intresse f√∂r s√•v√§l parsers som sk√§rml√§sare d√• detta √§r viktigt och ensamst√•ende inneh√•ll. <code>section</code> skapar en roburst, trevlig indelning p√• v√•rt dokument (√§ven om det r√•der viss f√∂rvirring fortfarande). HTML5 g√∂r helt enkelt att vi inte beh√∂ver klasser f√∂r att semantiskt beskriva delar av dokument.</li><li><strong>WAI-ARIA landmark roles</strong>. WAI-ARIA √§r ett stort omr√•de som enbart sanna experter bem√§strar, men landmark roles √§r l√•gt h√§ngande frukter som vi inte har n√•gon urs√§kt att inte plocka. H√§r kan vi s√§ga vad som √§r huvudinneh√•ll, vad som √§r kompletterande inneh√•ll och vad som bara √§r puffande f√∂r annat inneh√•ll. Bland mycket annat. Det √§r ocks√• n√•got som aktivt <em>finns eller arbetas p√•</em> i sk√§rml√§sare och hj√§lpmedel, till skillnad fr√•n det luftslott vi f√∂rs√∂kte bygga med klasser.</li><li><strong>MicroData enligt schema.org</strong>. Mikroformat som det borde sett ut fr√•n b√∂rjan. Google st√∂djer b√•da i listning av s√∂kresultat men uppmuntrar Microdata, vilket troligen ocks√• s√§tter m√•ttet f√∂r Bing och andra s√∂kmotorer. Microdata tillf√∂r omedelbar nytta och anv√§nder inte klasser √∂verhuvudtaget.</li></ul><p>Med detta sagt vill jag s√§ga att class-attributet numera inte √§r n√•got jag beh√∂ver f√∂r att ge mina HTMLdokument mening. Jag anv√§nder ist√§llet class-attributet f√∂r att skriva f√∂rvaltningsbar, f√∂ruts√§gbar och smart CSS. Jag skriver numera n√§stan all CSS med enbart klasser, max tv√• led i selektorerna. Inte ens under pistolhot skulle jag v√§nda mig om och g√• tillbaka till mina gamla riktlinjer; den skillnaden jag upplever √§r helt fantastisk.</p><p>√Ñven <a href=https://twitter.com/csswizardry/ >@csswizardry</a> har t√§nkt p√• det h√§r. P√• Front-Trends 2012 h√∂ll han presentationen <a href=https://speakerdeck.com/u/csswizardry/p/breaking-good-habits-1>Breaking Good Habits</a> som ber√∂r mycket av det jag skrivit h√§r, men p√• ett mer objektivt sett. Rekommenderas.</p><p><strong>Uppdatering</strong>: Nu finns en video uppe.</p><iframe src=http://player.vimeo.com/video/44773888 width=500 height=281 frameborder=0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p><a href=http://vimeo.com/44773888>Breaking Good Habits - Harry Roberts</a> from <a href=http://vimeo.com/user9986068>Front-Trends</a> on <a href=http://vimeo.com>Vimeo</a>.</p></article></main><footer><p><a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr√∂m sedan dec 2006. <a rel=alternate href=/prenumerera.xml>Prenumerera</a>.</p></footer></body></html>