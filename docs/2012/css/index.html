<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Hur jag slutade k√§mpa emot och b√∂rjade skriva b√§ttre CSS | Skrivna ord av Anders Ytterstr√∂m</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2012/css/ ><meta property=og:title content="Hur jag slutade k√§mpa emot och b√∂rjade skriva b√§ttre CSS"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2012/css/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterstr√∂m"></head><body><a href=#content class=skiplink>Hoppa till inneh√•ll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018." loading=lazy></a><p class=presentation>Anders √§r en webbutvecklare och h√•rdrockare som gillar br√§dspel, kaffe och √∂l. <a href=../../om/ rel=author>Om Anders Ytterstr√∂m</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../1/ >‚úí Inl√§gg</a> <a class=nav__item href=../../bl/ >ü§ò Br√ºtal Legend</a> <a class=nav__item href=../../evenemang/ >üìÖ Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >üé≤ Br√§dspel</a> <a class=nav__item href=https://madr.github.io/urban-enigma/ >ü¶æ Styrketr√§ning</a></nav></header><main id=content><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>Hur jag slutade k√§mpa emot och b√∂rjade skriva b√§ttre CSS</h1></header><div itemprop=articleBody><p>Jag har sedan sju &#xE5;r tillbaka varit n&#xE4;rmast militant vad g&#xE4;ller POSH. Att skriva semantisk HTML inom ramar s&#xE4;llan angivna av enbart mig sj&#xE4;lv har varit en st&#xE4;ndig utmaning om jag gladerligen axlat.</p><p>Jag tillh&#xF6;r gamla skolans webbstandardistor, som l&#xE4;nge f&#xF6;respr&#xE5;kat klinisk ren HTML-kod, i andan som Roger Johansson sammanfattar i <a href=http://www.456bereastreet.com/lab/web_development_mistakes/sv/ >Vanliga misstag inom webbuteckling</a>.</p><ul><li>Klasser och ID ska inte agera CSS-krokar.</li><li>De klasser och ID som finns ska tillf&#xF6;ra dokumentet och inneh&#xE5;llet n&#xE5;got.</li><li>D&#xE4;r CSS kan appliceras utan klasser eller ID, ska ingen klass eller ID f&#xF6;rekomma (f&#xF6;r CSS-f&#xF6;rfattandets skull).</li></ul><p>P&#xE5; Jaiku har jag till exempel diskuterat detta i tr&#xE5;den <a href=http://madr.jaikuarchive.com/presence/444e307bdee841e7a71de13b76e5ade6>Objektorienterad CSS? L&#xE5;ter s&#xE5;v&#xE4;l sp&#xE4;nnande som absurt.</a> d&#xE4;r jag sammanfattar den syn jag l&#xE4;nge haft.</p><h2 id=det-dr-med-rit-prestandan>Det d&#xE4;r med rit-prestandan<a class=anchor href=#det-dr-med-rit-prestandan>&#xB6;</a></h2><p>Jag &#xE4;r dock inte l&#xE4;ngre inte l&#xE4;ngre samma &#xF6;vertygelse. Det som framf&#xF6;rallt fick mig att grundligt omv&#xE4;rdera min bild &#xE4;r fr&#xE4;mst tv&#xE5; omst&#xE4;ndigheter.</p><ul><li>En av de projekt jag deltog i fick allvarliga problem med <a href=http://www.stubbornella.org/content/2009/03/27/reflows-repaints-css-performance-making-your-javascript-slow/ >reflows och repaints</a>. Jag f&#xF6;ljde alla best-practices som jag sj&#xE4;lv s&#xE5; religi&#xF6;st predikat och m&#xE4;rkte att sajten - <a href=http://snorapporten.se>en interaktiv historia med s&#xE5;v&#xE4;l flash som Ajax</a> - k&#xE4;ndes sl&#xF6; i responsen. Till r&#xE5;ga p&#xE5; allt blev &#xE4;ven CSS-filen bara st&#xF6;rre och st&#xF6;rre.</li><li>Mitt deltagande i ett samordningsprojekt d&#xE4;r <a href=http://mktmedia.se/om-mktmedia/gemensamma-plattformar/ >40 sajter delade HTML-kod</a> men &#xE4;gde sin egen CSS och JavaScript. Mitt arbetslag hade som ambition att &#xF6;vertr&#xE4;ffa all tidigare HTML-kod vi f&#xF6;rfattat - utifr&#xE5;n samma v&#xE4;rdegrunder som n&#xE4;mns ovan - med s&#xE5; f&#xE5; kompromisser som m&#xF6;jligt till f&#xF6;rm&#xE5;n f&#xF6;r flexibelt designarbete och bra st&#xF6;d f&#xF6;r webbl&#xE4;sare (p&#xE5; den h&#xE4;r tiden var IE6 enskilt st&#xF6;rst). Projektet led i slutskedet av mycket allvarliga prestandaproblem; inte med svarstider, utan med reflows och repaints.</li></ul><p>Jag ins&#xE5;g att det m&#xE5;ste finnas n&#xE5;got annat s&#xE4;tt. Ett b&#xE4;ttre s&#xE4;tt. <em>R&#xE4;tt s&#xE4;tt</em>.</p><h2 id=css-som-ett-eget-sjlvsammanhngande-lager>CSS som ett eget, sj&#xE4;lvsammanh&#xE4;ngande lager<a class=anchor href=#css-som-ett-eget-sjlvsammanhngande-lager>&#xB6;</a></h2><p>Det &#xE4;r ofta de tre lagren struktur, presentation och beteende omn&#xE4;mns n&#xE4;r webbstandarder diskuteras. Likv&#xE4;l har de fr&#xE4;mst alltid l&#xE5;tit presentationslagret (CSS) speglas och bli h&#xE5;rt knuten till strukturen (HTML). Jag &#xE4;r numera av &#xE5;sikten att det &#xE4;r h&#xE4;r &#xE4;r roten till d&#xE5;ligt skriven CSS.</p><p>Vi l&#xE4;gger stor m&#xF6;da p&#xE5; att skriva validerande, semantisk och hj&#xE4;lpsam HTML. Vi avlusar och skruvar p&#xE5; v&#xE5;ra script f&#xF6;r att inte skapa sajter som &#xE4;r tr&#xF6;ga och f&#xE5; Steve Souders att sova b&#xE4;ttre om n&#xE4;tterna. CSS d&#xE4;remot har varit en eller flera filer dit kod skyfflats in f&#xF6;r att uppn&#xE5; de krav sajtens presentation har p&#xE5; sig. Det &#xE4;r en aning snedf&#xF6;rdelat, har jag kommit fram till.</p><p>Jag &#xE4;r numera av den best&#xE4;mda &#xE5;sikten att CSS ska organiseras och refaktoriseras med samma omsorg som vi hittills lagt p&#xE5; scripts och uppm&#xE4;rkning. &#xC4;ven Fleecelabs har varit inne p&#xE5; samma sak i bloggposterna <a href=http://f.fleecelabs.se/post/16017015153/dags-att-omvardera-semantisk-html>Dags att omv&#xE4;rdera semantisk HTML?</a> och <a href=http://f.fleecelabs.se/post/17428569299/darfor-maste-vi-diskutera-hur-vi-bygger-css>D&#xE4;rf&#xF6;r m&#xE5;ste vi diskutera hur vi bygger CSS</a>.</p><p>Fler &#xE4;n en smartskalle har t&#xE4;nkt p&#xE5; detta och angripit det olika.</p><ul><li><a href=http://twitter.com/stubbornella>Nicole Sullivan</a> har tagit fram den kontroversiella filosofin <a href=http://oocss.org>Objectorienterad CSS</a> som <a href=https://github.com/stubbornella/oocss>&#xE4;ven gett namn &#xE5;t ett CSS-bibliotek</a>.</li><li><a href=http://twitter.com/snookca>Jonathan Snook</a> hade mycket tankar i huvudet en regnig dag och b&#xF6;rjade skriva det som idag &#xE4;r e-boken och workshoparna <a href=http://smacss.com>Scalable, Modular Architecture for CSS (SMACSS)</a>.</li><li>Sullivan/<a href=http://nczonline.net>Zakas</a> tar CSS p&#xE5; stort allvar och skapade det f&#xF6;rsta verktyget som s&#xE5;rar CSS-utvecklares k&#xE4;nslor: <a href=http://csslint.net>CSSlint</a>.</li><li>Kyle Neath tr&#xF6;ttnade p&#xE5; att ingen annan smartskalle pratade om dokumentation och skapade d&#xE4;rf&#xF6;r <a href=http://warpspire.com/posts/kss/ >Knyle Style Sheets</a>, som &#xE4;r ett fenomenalt f&#xF6;rs&#xF6;k att skapa regler f&#xF6;r CSS-dokumentation som <em>g&#xF6;r nytta</em>.</li></ul><p>Just klasser eller ej &#xE4;r det som skapat mest uppr&#xF6;rda k&#xE4;nslor, d&#xE5; m&#xE5;nga &#xE4;r ypperligt f&#xE4;sta vid att skriva ID-selektorer i sin CSS-kod.</p><p>Som sagt, &#xE4;ven jag var den personen. Tills jag ins&#xE5;g att class-attributet redan f&#xF6;rlorat sin glans.</p><h2 id=wai-aria-landmark-roles-html5-microdata>WAI-ARIA landmark roles, HTML5, Microdata<a class=anchor href=#wai-aria-landmark-roles-html5-microdata>&#xB6;</a></h2><p>Class-besattheten uppkom i en tid d&#xE4;r vi m&#xE4;rkte upp v&#xE5;rt inneh&#xE5;ll med XHTML 1.0 Strict och HTML4. En tid d&#xE4;r vi slet h&#xE5;rt med listor, <code>DIV</code> och nitiskt kedjade rubriker. V&#xE5;r enda utv&#xE4;g f&#xF6;r att skapa ytterligare semantik d&#xE5; var klasser. Detta understryktes ytterligare n&#xE4;r vi b&#xF6;rjade f&#xF6;rs&#xF6;ka enas om konventioner f&#xF6;r klassernas namn i form av <a href=http://microformats.org>Mikroformat</a>.</p><p>Det var d&#xE5;. Nu har vi andra f&#xF6;ruts&#xE4;ttningar.</p><ul><li><strong>HTML5</strong>. Nya, semantiska element som faktiskt tillf&#xF6;r riktig nytta. <code>nav</code> beh&#xF6;ver ingen beskrivande klass, det &#xE4;r en huvudmeny. Detsamma g&#xE4;ller <code>header</code> och <code>footer</code>. <code>article</code> &#xE4;r av s&#xE4;rskilt intresse f&#xF6;r s&#xE5;v&#xE4;l parsers som sk&#xE4;rml&#xE4;sare d&#xE5; detta &#xE4;r viktigt och ensamst&#xE5;ende inneh&#xE5;ll. <code>section</code> skapar en roburst, trevlig indelning p&#xE5; v&#xE5;rt dokument (&#xE4;ven om det r&#xE5;der viss f&#xF6;rvirring fortfarande). HTML5 g&#xF6;r helt enkelt att vi inte beh&#xF6;ver klasser f&#xF6;r att semantiskt beskriva delar av dokument.</li><li><strong>WAI-ARIA landmark roles</strong>. WAI-ARIA &#xE4;r ett stort omr&#xE5;de som enbart sanna experter bem&#xE4;strar, men landmark roles &#xE4;r l&#xE5;gt h&#xE4;ngande frukter som vi inte har n&#xE5;gon urs&#xE4;kt att inte plocka. H&#xE4;r kan vi s&#xE4;ga vad som &#xE4;r huvudinneh&#xE5;ll, vad som &#xE4;r kompletterande inneh&#xE5;ll och vad som bara &#xE4;r puffande f&#xF6;r annat inneh&#xE5;ll. Bland mycket annat. Det &#xE4;r ocks&#xE5; n&#xE5;got som aktivt <em>finns eller arbetas p&#xE5;</em> i sk&#xE4;rml&#xE4;sare och hj&#xE4;lpmedel, till skillnad fr&#xE5;n det luftslott vi f&#xF6;rs&#xF6;kte bygga med klasser.</li><li><strong>MicroData enligt schema.org</strong>. Mikroformat som det borde sett ut fr&#xE5;n b&#xF6;rjan. Google st&#xF6;djer b&#xE5;da i listning av s&#xF6;kresultat men uppmuntrar Microdata, vilket troligen ocks&#xE5; s&#xE4;tter m&#xE5;ttet f&#xF6;r Bing och andra s&#xF6;kmotorer. Microdata tillf&#xF6;r omedelbar nytta och anv&#xE4;nder inte klasser &#xF6;verhuvudtaget.</li></ul><p>Med detta sagt vill jag s&#xE4;ga att class-attributet numera inte &#xE4;r n&#xE5;got jag beh&#xF6;ver f&#xF6;r att ge mina HTMLdokument mening. Jag anv&#xE4;nder ist&#xE4;llet class-attributet f&#xF6;r att skriva f&#xF6;rvaltningsbar, f&#xF6;ruts&#xE4;gbar och smart CSS. Jag skriver numera n&#xE4;stan all CSS med enbart klasser, max tv&#xE5; led i selektorerna. Inte ens under pistolhot skulle jag v&#xE4;nda mig om och g&#xE5; tillbaka till mina gamla riktlinjer; den skillnaden jag upplever &#xE4;r helt fantastisk.</p><p>&#xC4;ven <a href=https://twitter.com/csswizardry/ >@csswizardry</a> har t&#xE4;nkt p&#xE5; det h&#xE4;r. P&#xE5; Front-Trends 2012 h&#xF6;ll han presentationen <a href=https://speakerdeck.com/u/csswizardry/p/breaking-good-habits-1>Breaking Good Habits</a> som ber&#xF6;r mycket av det jag skrivit h&#xE4;r, men p&#xE5; ett mer objektivt sett. Rekommenderas.</p><p><strong>Uppdatering</strong>: Nu finns en video uppe.</p><iframe src=http://player.vimeo.com/video/44773888 width=500 height=281 frameborder=0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p><a href=http://vimeo.com/44773888>Breaking Good Habits - Harry Roberts</a> from <a href=http://vimeo.com/user9986068>Front-Trends</a> on <a href=http://vimeo.com>Vimeo</a>.</p></div><footer class=visuallyhidden><time itemprop=datePublished>2012-06-28</time> av <span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>Anders Ytterstr√∂m</span>.</span></footer></article></main><aside><h2 class=h--aside>Senaste inl√§ggen</h2><ul class=recents><li class=recents__item><a href=../../2020/pocket-dump>Diverse avdammade och ol√§sta l√§nkar</a></li><li class=recents__item><a href=../../2020/house-of-metal-14>House of Metal 14</a></li><li class=recents__item><a href=../../2020/telefon>√ñnskelista inf√∂r telefonbytet 2022-2025</a></li><li class=recents__item><a href=../../2020/1000lbs>V√§gen mot 1000 lbs club</a></li><li class=recents__item><a href=../../2020/coraline>Coraline</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Uada Pt. II: European Alliance </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Slaktkyrkan</span>, Stockholm </span></span><time datetime=2020-05-03T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>3</span> <span>maj</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Sweden Rock Festival 29 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Norje</span>, S√∂lvesborg </span></span><time datetime=2020-06-03T00:00:00Z class=upcoming__item__when itemprop=startDate><span>3</span> <span>jun</span> </time><span class=visuallyhidden itemprop=endDate>Sat Jun 06 2020 02:00:00 GMT+0200 (centraleuropeisk sommartid)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Korn </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-06-17T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>17</span> <span>jun</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Disturbed </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-06-24T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>24</span> <span>jun</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Gefle Metal Festival 5 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gasklockorna</span>, G√§vle </span></span><time datetime=2020-07-09T00:00:00Z class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span> </time><span class=visuallyhidden itemprop=endDate>Sat Jul 11 2020 02:00:00 GMT+0200 (centraleuropeisk sommartid)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Pixies </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-07-27T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>27</span> <span>jul</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Wacken</span>, Tyskland </span></span><time datetime=2020-07-30T00:00:00Z class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span> </time><span class=visuallyhidden itemprop=endDate>Sat Aug 01 2020 02:00:00 GMT+0200 (centraleuropeisk sommartid)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Jaromƒõ≈ô</span>, Tjeckien </span></span><time datetime=2020-08-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span> </time><span class=visuallyhidden itemprop=endDate>Sat Aug 08 2020 02:00:00 GMT+0200 (centraleuropeisk sommartid)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Watain </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Parksn√§ckan</span>, Uppsala </span></span><time datetime=2020-09-12T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>12</span> <span>sep</span></time><div class=visuallyhidden itemprop=description><p>Flyttad fr&#xE5;n 30 april p&#xE5; grund av COVID-19.</p></div><span class=visuallyhidden itemprop=address></span></li></ul></aside><footer><p>Publicerades <time>2012-06-28</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr√∂m sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och <a href=https://www.quirksmode.org/blog/archives/2020/01/css4_is_here.html>CSS4</a>.</p></footer></body></html>