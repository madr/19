<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Riktig XHTML | Anders Ytterströms hemsida</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=/madrse.css><link href=/prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2007/35/ ><meta property=og:title content="Riktig XHTML"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2007/35/ ><meta property=og:image content=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276><meta property=og:site_name content="Anders Ytterströms hemsida"></head><body><a href=#content class=skiplink>Hoppa till innehåll</a><header><a href=/ rel=home>madr.se</a><nav><a href=/bl/ >🤘 Brütal Legend</a> <a href=/evenemang/ >📅 Evenemang</a> <a href=/om/ >🤷‍♂️ Om</a> <a href=http://broken-close-swan.gigalixirapp.com/live>🎲 RISK</a> <a href=/prenumerera.xml rel=alternate title="Prenumerera via Atom">📣</a></nav></header><main id=content><p class=alert--archived><i>Detta är ett arkiverat inlägg, som importerats hit för referens. Det kan se konstigt ut och innehålla utdaterad information eller inaktuella åsikter.</i></p><article><h1>Riktig XHTML</h1><footer><time>2007-07-11</time> av <a rel=author href=/om><img src=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276 alt=porträtt> Anders Ytterström</a></footer><p>I förra veckan gjorde jag något som jag skjutit på mycket länge; jag lade till en kodsnutt som ser till att serva madr webbapps webbsidor som <code>application/xhtml+xml</code> istället för <code>text/html</code>. Det är inget som (tyvärr) hör till vanligheten idag bland utvecklare, men likväl är det påbjudet om man likt mig använder XHTML som Doctype.</p><p><em>Riktig</em> XHTML godtas av alla webbläsare utom ni-vet-vilken och Safari (v2). För att dessa inte skall flippa ur kan något liknande</p><ol><li><code>if (strpos($_SERVER[&#39;HTTP_ACCEPT&#39;],&#39;application/xhtml+xml&#39;)) {</code></li><li><code>header(&#39;Content-type: application/xhtml+xml; charset=utf-8&#39;);</code></li><li><code>} else {</code></li><li><code>header(&#39;Content-type: text/html; charset=utf-8&#39;);</code></li><li><code>}</code></li></ol><p>appliceras för att skapa bakåtkompabilitet.</p><p>Det skulle dock dröja ytterligare en vecka innan jag dessutom degraderade mig till 1.0 Strict istället för 1.1. Detta på grund av ett sidospår i en <a href="http://www.phpportalen.net/viewtopic.php?t=83888" title="Firefox + xhtml 1.1 ... visas som xml!">felsökning</a> på PHPportalen. Som jag blev påmind om <em>får inte</em> XHTML 1.1 köras som annat än <code>application/xhtml+xml</code>, och erbjuder verkligen inga fördelar alls förutom Ruby - som jag personligen inte kikat så mycket på ännu och därför inte behöver.</p><p>Jag började validera i XHTML 1.1 ifjol, på tiden jag inte visste bättre och bara såg det högre versionsnumret. Att jag inte degraderade mig tidigare beror enbart på lathet. Men som de säger, bättre sent än aldrig.</p><p>Då alla webbläsare inte stödjer riktig XHTML kommer jag köra på 1.0 strict i fortsättningen. Det borde även alla andra, som likt mig validerar i XHTML 1.1 och <em>inte</em> kör det korrekt.</p><p>Jag har dessvärre inga hänvisningar för vidare läsning om detta, men Google är allas vän.</p></article></main><footer><p><a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterström sedan dec 2006. <a rel=alternate href=/prenumerera.xml>Prenumerera</a>.</p></footer></body></html>