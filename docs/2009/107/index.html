<!doctype html><html lang=sv><head><meta charset=UTF-8><title>UTC och unix timestamps i JavaScript | Skrivna ord av Anders Ytterström</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2009/107/ ><meta property=og:title content="UTC och unix timestamps i JavaScript"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2009/107/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterström"></head><body><a href=#content class=skiplink>Hoppa till innehåll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018." loading=lazy></a><p class=presentation>Anders är en webbutvecklare och hårdrockare som gillar brädspel, kaffe och öl. <a href=../../om/ rel=author>Om Anders Ytterström</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../1/ >✒ Inlägg</a> <a class=nav__item href=../../bl/ >🤘 Brütal Legend</a> <a class=nav__item href=../../evenemang/ >📅 Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >🎲 Brädspel</a> <a class=nav__item href=https://madr.github.io/urban-enigma/ >🦾 Styrketräning</a></nav></header><main id=content><p class=alert--archived><i>Detta är ett arkiverat inlägg, som importerats hit för referens. Det kan se konstigt ut och innehålla utdaterad information eller inaktuella åsikter.</i></p><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>UTC och unix timestamps i JavaScript</h1></header><div itemprop=articleBody><p>Nyligen fick jag en tacksam uppgift fr&#xE5;n en kollega p&#xE5; jobbet; en JavaScript-funktion som r&#xE4;knar ut antalet dagar mellan tv&#xE5; datum. Det &#xE4;r ingenting jag sj&#xE4;lv haft behov av att g&#xF6;ra med JavaScript, men i PHP &#xE4;r det riktigt r&#xE4;ttframt med <a href=http://php.net/mktime title="mktime | PHP manual">mktime()</a> och litet l&#xE5;gstadiematte.</p><p>Att kunna k&#xF6;ra <code>mktime()</code> i JavaScript &#xE4;r r&#xE4;tt k&#xF6;rt, men liknande funktionalitet borde finnas i JavaScript. En snabb koll bekr&#xE4;ftade detta; <a href=http://www.w3schools.com/jsref/jsref_obj_date.asp title="JavaScript Date Object Reference">Date objektet</a> inneh&#xE5;ller funktionen <a href=http://www.w3schools.com/jsref/jsref_utc.asp title="JavaScript UTC() Method">Date.UTF()</a> som &#xE4;r identisk med PHPs motsvarighet. Det ger oss rum att b&#xF6;rja hantera datum.</p><pre><code>var start,end,diff,day;

// a day, in seconds.
day = 24*60*60;

// dates to diff.
start = Date.UTC(2009,1,12);
end = Date.UTC(2009,2,14);

// calc diff in seconds.
diff = (end-start)/1000;

// get dff in days.
alert( diff / day ); // 30
</code></pre><p>Ist&#xE4;llet f&#xF6;r att r&#xE4;kna dag g&#xE5;r det lika bra att anv&#xE4;nda sekunder eller minuter. D&#xE5; det &#xE4;r millisekunder inblandade finns det gott om utrymme f&#xF6;r egen fantasi.</p></div><footer class=visuallyhidden><time itemprop=datePublished>2009-01-13</time> av <span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>Anders Ytterström</span>.</span></footer></article></main><aside><h2 class=h--aside>Senaste inläggen</h2><ul class=recents><li class=recents__item><a href=../../2020/1000lbs-aug>1000 lbs club - träning under pandemin</a></li><li class=recents__item><a href=../../2020/covid19>Coronaviruspandemin</a></li><li class=recents__item><a href=../../2020/pocket-dump>Diverse avdammade och olästa länkar</a></li><li class=recents__item><a href=../../2020/house-of-metal-14>House of Metal 14</a></li><li class=recents__item><a href=../../2020/telefon>Önskelista inför telefonbytet 2022-2025</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming></ul></aside><footer><p>Publicerades <time>2009-01-13</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterström sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och <a href=https://www.quirksmode.org/blog/archives/2020/01/css4_is_here.html>CSS4</a>.</p></footer></body></html>