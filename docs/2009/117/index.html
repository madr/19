<!doctype html><html lang=sv><head><meta charset=UTF-8><title>vertikal centrering med CSS, anno 2009 | Skrivna ord av Anders Ytterström.</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2009/117/ ><meta property=og:title content="vertikal centrering med CSS, anno 2009"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2009/117/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterström."></head><body><a href=#content class=skiplink>Hoppa till innehåll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018."></a><p class=presentation>Anders är en webbutvecklare och hårdrockare som gillar brädspel, kaffe och öl. <a href=../../om/ rel=author>Om Anders Ytterström</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../bl/ >🤘 Brütal Legend</a> <a class=nav__item href=../../evenemang/ >📅 Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >🎲 Brädspel</a></nav></header><main id=content><p class=alert--archived><i>Detta är ett arkiverat inlägg, som importerats hit för referens. Det kan se konstigt ut och innehålla utdaterad information eller inaktuella åsikter.</i></p><article><h1>vertikal centrering med CSS, anno 2009</h1><p>En av mina populäraste sidor enligt google är min utvärdering av <a href=/blog/64>vertikal centrering med CSS</a>. Jag har sedan en tid känt att det inlägget inte är riktigt komplett, då det saknas handfast kod på hur det praktiskt går till att skapa vertikal centrering för alla webbläsare, till och med <a href=/blog/113 title="Vad gör du för att slippa Internet Explorer 6?">IE6</a>. Nyfikna läsare måste läsa hela min text och klicka sig vidare i en länk längst ner, och gissa sig fram till koden. Inte så schysst. Istället för att uppdatera inlägget kompletterar jag med ett nytt, som visar hur en praktisk CSS-klass <code>valignfix</code> skapas, men också hur CSS-koden kan användas på enstaka element.</p><h2>HTML-kod att utgå från</h2><p>Min följande CSS-kod utgår från en HTML-kod, bara för att visa ett exempel.</p><pre><code>&lt;div class=&quot;valignfix&quot;&gt;
        &lt;div&gt;
                &lt;div&gt;
                        &lt;h1&gt;Vertikalt centrerad&lt;/h1&gt;
                        &lt;h2&gt;Jag ligger minsann i mitten!&lt;/h2&gt;
                &lt;/div&gt;
        &lt;/div&gt;
        &lt;img src=&quot;matterhorn.jpg&quot; alt=&quot;Matternhorn, ett högt berg&quot;&gt;
&lt;/div&gt;
</code></pre><p>HTML-koden ser ut så baserat på en rad förutsättningar och beslut baserade på god semantik och skalbarhet.</p><ul><li><code>valignfix</code> används för att skapa ett återanvändbart macro, i stil med <a href=http://www.positioniseverything.net/easyclearing.html title="How To Clear Floats Without Structural Markup">clearfix</a>.</li><li>Inga onödiga klassnamn eller ID.</li><li>Den första <code>&lt;div&gt;</code> innehåller det innehåll som ska positioneras vertikalt. För att underlätta gruppering och få det att fungera i IE6 och IE7 läggs innehållet i ytterligare en <code>&lt;div&gt;</code>.</li><li>Tätt följt av det centrerade innehållet är det innehåll som är högt, i exemplet en bild. Men det kan lika gärna vara något annat, t ex en meny.</li></ul><h2>CSS-tabeller sätter hjulet i rullning</h2><p>För alla moderna webbläsare finns ett utbrett och redan beprövat stöd för <em>CSS-tabeller</em>. Genom att använda <code>display:table</code> och <code>display:table-cell</code> är vi mer än halvvägs.</p><pre><code>*.valign {
        display:table-row;
}
        *.valign &gt; * {
                width:50%;
                display:table-cell;
                vertical-align:middle;
        }
</code></pre><p>Ovanstående lösning är fullt tillräcklig för Internet Explorer 8+, Firefox 2+, Opera 8+ och Safari 2+. Vi har de roliga kvar: IE7 och IE6.</p><h2>IE7 och IE6 löser det med positionering</h2><p>Vid utvecklingen av IE7 prioriterade Microsoft upp CSS2 selektorer och allvarliga renderingsbuggar, men stödet för CSS-tabeller uteblev. Med hjälp av ett CSS filter för de båda webbläsarna går det att göra en liknande lösning med en blandning av absolut och relativ positionering. Både IE6 och IE7 fungerar med <a href="http://css-discuss.incutio.com/?page=StarHtmlHack" title="Star HTML hack">stjärna HTML hacket</a>, den osynliga wrappern kring <code>&lt;html&gt;</code>.</p><pre><code>* html *.valign,
*+html *.valign {
        position:relative;
        overflow:auto;
}
        * html *.valign div,
        *+html *.valign div {
                position:absolute;
                top:50%;
        }
                * html *.valign div div,
                *+html *.valign div div {
                        position:relative;
                        top:-50%;
                }
                        * html *.valign div div *,
                        *+html *.valign div div * {
                                position:static;
                                top:0;
                        }
        /* gör bilden eller annat högt element till float. */
        * html *.valign img,
        *+html *.valign img {
                float:right;
        }
</code></pre><h2>Det linkar, men är inte identisk</h2><p>Värt att ha i åtanke är att lösningen för IE7 och IE6 är inte fullt så användbar och skalbar som CSS tables.</p><ul><li>Det höga objektet måste vara definierat i förväg för att något innehåll överhuvudtaget ska kunna centreras.</li><li>Det höga objektet måste anpassas med floats för att ligga till höger eller vänster.</li><li>Det vertikalt centrerade innehållet kan behöva extra positions-CSS för att ligga rätt, vilket kan innebära att dimensionerna på det höga objektet måste vara bestämt.</li></ul><p>Det täpper likväl igen hålen i de flesta fall där vertikal centrering är önskvärt. Koden validerar och kan säkert användas i samma CSS-fil, även om jag personligen föredrar att gömma IE-kod i en egen CSS-fil som infogas via <a href=http://en.wikipedia.org/wiki/Conditional_comments>Conditional Comments</a> Den är framtidssäker, då använt CSS filter upphör att fungera fr o m IE8 där CSS tables fungerar korrekt.</p><p>Och där har vi det. En ren CSS-lösning för vertikal centrering. Ta en titt i <a href=/~ay/labs/css/valign>exempelfilen</a> för att se resultatet. Jag har en <a href=/~ay/labs/css/valign/valign.css>rikligt dokumenterad version</a> och en <a href=/~ay/labs/css/valign/valign-mini.css>kompakt version för produktion</a> att ta del av vid intresse!</p></article></main><aside><h2 class=h--aside>Senaste inläggen</h2><ul class=recents><li class=recents__item><a href=../../2019/meta>Tuffa saker i senaste iterationen av madr.se</a></li><li class=recents__item><a href=../../2019/apps>Vad berättar mina program om mig?</a></li><li class=recents__item><a href=../../2019/ridderligheten>Gärning i ridderlighetens namn</a></li><li class=recents__item><a href=../../2019/react-redux>Varför och hur jag ska fördjupa mig i React 2019</a></li><li class=recents__item><a href=../../2019/elixir>Varför och hur jag ska fokusera på att lära mig Elixir 2019</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Mayhem </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-11-29T00:00:00Z class=upcoming__item__when itemprop=startDate><span>29</span> <span>nov</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wardruna </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-12-01T00:00:00Z class=upcoming__item__when itemprop=startDate><span>1</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Amon Amarth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-12-07T00:00:00Z class=upcoming__item__when itemprop=startDate><span>7</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Solstafir </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-12-18T00:00:00Z class=upcoming__item__when itemprop=startDate><span>18</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Opeth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Cirkus</span>, Stockholm </span><time datetime=2020-01-13T00:00:00Z class=upcoming__item__when itemprop=startDate><span>13</span> <span>jan</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Coraline </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Folkoperan</span>, Stockholm </span><time datetime=2020-02-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>feb</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Gefle Metal Festival 4 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Gasklockorna</span>, Gävle </span><time datetime=2020-07-09T00:00:00Z class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Wacken</span>, Tyskland </span><time datetime=2020-07-30T00:00:00Z class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Jaroměř</span>, Tjeckien </span><time datetime=2020-08-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span></time></li></ul></aside><footer><p>Publicerades <time>2009-04-05</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterström sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och CSS 3.</p></footer></body></html>