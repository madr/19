<!doctype html><html lang=sv><head><meta charset=UTF-8><title>vertikal centrering med CSS, anno 2009 | Skrivna ord av Anders Ytterstr√∂m</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2009/117/ ><meta property=og:title content="vertikal centrering med CSS, anno 2009"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2009/117/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterstr√∂m"></head><body><a href=#content class=skiplink>Hoppa till inneh√•ll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018." loading=lazy></a><p class=presentation>Anders √§r en webbutvecklare och h√•rdrockare som gillar br√§dspel, kaffe och √∂l. <a href=../../om/ rel=author>Om Anders Ytterstr√∂m</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../1/ >‚úí Inl√§gg</a> <a class=nav__item href=../../bl/ >ü§ò Br√ºtal Legend</a> <a class=nav__item href=../../evenemang/ >üìÖ Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >üé≤ Br√§dspel</a> <a class=nav__item href=https://madr.github.io/urban-enigma/ >ü¶æ Styrketr√§ning</a></nav></header><main id=content><p class=alert--archived><i>Detta √§r ett arkiverat inl√§gg, som importerats hit f√∂r referens. Det kan se konstigt ut och inneh√•lla utdaterad information eller inaktuella √•sikter.</i></p><article><h1>vertikal centrering med CSS, anno 2009</h1><p>En av mina popul&#xE4;raste sidor enligt google &#xE4;r min utv&#xE4;rdering av <a href=/blog/64>vertikal centrering med CSS</a>. Jag har sedan en tid k&#xE4;nt att det inl&#xE4;gget inte &#xE4;r riktigt komplett, d&#xE5; det saknas handfast kod p&#xE5; hur det praktiskt g&#xE5;r till att skapa vertikal centrering f&#xF6;r alla webbl&#xE4;sare, till och med <a href=/blog/113 title="Vad g&#xF6;r du f&#xF6;r att slippa Internet Explorer 6?">IE6</a>. Nyfikna l&#xE4;sare m&#xE5;ste l&#xE4;sa hela min text och klicka sig vidare i en l&#xE4;nk l&#xE4;ngst ner, och gissa sig fram till koden. Inte s&#xE5; schysst. Ist&#xE4;llet f&#xF6;r att uppdatera inl&#xE4;gget kompletterar jag med ett nytt, som visar hur en praktisk CSS-klass <code>valignfix</code> skapas, men ocks&#xE5; hur CSS-koden kan anv&#xE4;ndas p&#xE5; enstaka element.</p><h2 id=html-kod-att-utg-frn>HTML-kod att utg&#xE5; fr&#xE5;n<a class=anchor href=#html-kod-att-utg-frn>&#xB6;</a></h2><p>Min f&#xF6;ljande CSS-kod utg&#xE5;r fr&#xE5;n en HTML-kod, bara f&#xF6;r att visa ett exempel.</p><pre><code>&lt;div class=&quot;valignfix&quot;&gt;
        &lt;div&gt;
                &lt;div&gt;
                        &lt;h1&gt;Vertikalt centrerad&lt;/h1&gt;
                        &lt;h2&gt;Jag ligger minsann i mitten!&lt;/h2&gt;
                &lt;/div&gt;
        &lt;/div&gt;
        &lt;img src=&quot;matterhorn.jpg&quot; alt=&quot;Matternhorn, ett h&#xF6;gt berg&quot;&gt;
&lt;/div&gt;
</code></pre><p>HTML-koden ser ut s&#xE5; baserat p&#xE5; en rad f&#xF6;ruts&#xE4;ttningar och beslut baserade p&#xE5; god semantik och skalbarhet.</p><ul><li><code>valignfix</code> anv&#xE4;nds f&#xF6;r att skapa ett &#xE5;teranv&#xE4;ndbart macro, i stil med <a href=http://www.positioniseverything.net/easyclearing.html title="How To Clear Floats Without Structural Markup">clearfix</a>.</li><li>Inga on&#xF6;diga klassnamn eller ID.</li><li>Den f&#xF6;rsta <code>&lt;div&gt;</code> inneh&#xE5;ller det inneh&#xE5;ll som ska positioneras vertikalt. F&#xF6;r att underl&#xE4;tta gruppering och f&#xE5; det att fungera i IE6 och IE7 l&#xE4;ggs inneh&#xE5;llet i ytterligare en <code>&lt;div&gt;</code>.</li><li>T&#xE4;tt f&#xF6;ljt av det centrerade inneh&#xE5;llet &#xE4;r det inneh&#xE5;ll som &#xE4;r h&#xF6;gt, i exemplet en bild. Men det kan lika g&#xE4;rna vara n&#xE5;got annat, t ex en meny.</li></ul><h2 id=css-tabeller-stter-hjulet-i-rullning>CSS-tabeller s&#xE4;tter hjulet i rullning<a class=anchor href=#css-tabeller-stter-hjulet-i-rullning>&#xB6;</a></h2><p>F&#xF6;r alla moderna webbl&#xE4;sare finns ett utbrett och redan bepr&#xF6;vat st&#xF6;d f&#xF6;r <em>CSS-tabeller</em>. Genom att anv&#xE4;nda <code>display:table</code> och <code>display:table-cell</code> &#xE4;r vi mer &#xE4;n halvv&#xE4;gs.</p><pre><code>*.valign {
        display:table-row;
}
        *.valign &gt; * {
                width:50%;
                display:table-cell;
                vertical-align:middle;
        }
</code></pre><p>Ovanst&#xE5;ende l&#xF6;sning &#xE4;r fullt tillr&#xE4;cklig f&#xF6;r Internet Explorer 8+, Firefox 2+, Opera 8+ och Safari 2+. Vi har de roliga kvar: IE7 och IE6.</p><h2 id=ie7-och-ie6-lser-det-med-positionering>IE7 och IE6 l&#xF6;ser det med positionering<a class=anchor href=#ie7-och-ie6-lser-det-med-positionering>&#xB6;</a></h2><p>Vid utvecklingen av IE7 prioriterade Microsoft upp CSS2 selektorer och allvarliga renderingsbuggar, men st&#xF6;det f&#xF6;r CSS-tabeller uteblev. Med hj&#xE4;lp av ett CSS filter f&#xF6;r de b&#xE5;da webbl&#xE4;sarna g&#xE5;r det att g&#xF6;ra en liknande l&#xF6;sning med en blandning av absolut och relativ positionering. B&#xE5;de IE6 och IE7 fungerar med <a href="http://css-discuss.incutio.com/?page=StarHtmlHack" title="Star HTML hack">stj&#xE4;rna HTML hacket</a>, den osynliga wrappern kring <code>&lt;html&gt;</code>.</p><pre><code>* html *.valign,
*+html *.valign {
        position:relative;
        overflow:auto;
}
        * html *.valign div,
        *+html *.valign div {
                position:absolute;
                top:50%;
        }
                * html *.valign div div,
                *+html *.valign div div {
                        position:relative;
                        top:-50%;
                }
                        * html *.valign div div *,
                        *+html *.valign div div * {
                                position:static;
                                top:0;
                        }
        /* g&#xF6;r bilden eller annat h&#xF6;gt element till float. */
        * html *.valign img,
        *+html *.valign img {
                float:right;
        }
</code></pre><h2 id=det-linkar-men-r-inte-identisk>Det linkar, men &#xE4;r inte identisk<a class=anchor href=#det-linkar-men-r-inte-identisk>&#xB6;</a></h2><p>V&#xE4;rt att ha i &#xE5;tanke &#xE4;r att l&#xF6;sningen f&#xF6;r IE7 och IE6 &#xE4;r inte fullt s&#xE5; anv&#xE4;ndbar och skalbar som CSS tables.</p><ul><li>Det h&#xF6;ga objektet m&#xE5;ste vara definierat i f&#xF6;rv&#xE4;g f&#xF6;r att n&#xE5;got inneh&#xE5;ll &#xF6;verhuvudtaget ska kunna centreras.</li><li>Det h&#xF6;ga objektet m&#xE5;ste anpassas med floats f&#xF6;r att ligga till h&#xF6;ger eller v&#xE4;nster.</li><li>Det vertikalt centrerade inneh&#xE5;llet kan beh&#xF6;va extra positions-CSS f&#xF6;r att ligga r&#xE4;tt, vilket kan inneb&#xE4;ra att dimensionerna p&#xE5; det h&#xF6;ga objektet m&#xE5;ste vara best&#xE4;mt.</li></ul><p>Det t&#xE4;pper likv&#xE4;l igen h&#xE5;len i de flesta fall d&#xE4;r vertikal centrering &#xE4;r &#xF6;nskv&#xE4;rt. Koden validerar och kan s&#xE4;kert anv&#xE4;ndas i samma CSS-fil, &#xE4;ven om jag personligen f&#xF6;redrar att g&#xF6;mma IE-kod i en egen CSS-fil som infogas via <a href=http://en.wikipedia.org/wiki/Conditional_comments>Conditional Comments</a> Den &#xE4;r framtidss&#xE4;ker, d&#xE5; anv&#xE4;nt CSS filter upph&#xF6;r att fungera fr o m IE8 d&#xE4;r CSS tables fungerar korrekt.</p><p>Och d&#xE4;r har vi det. En ren CSS-l&#xF6;sning f&#xF6;r vertikal centrering. Ta en titt i <a href=/~ay/labs/css/valign>exempelfilen</a> f&#xF6;r att se resultatet. Jag har en <a href=/~ay/labs/css/valign/valign.css>rikligt dokumenterad version</a> och en <a href=/~ay/labs/css/valign/valign-mini.css>kompakt version f&#xF6;r produktion</a> att ta del av vid intresse!</p></article></main><aside><h2 class=h--aside>Senaste inl√§ggen</h2><ul class=recents><li class=recents__item><a href=../../2020/telefon>√ñnskelista inf√∂r telefonbytet 2022-2025</a></li><li class=recents__item><a href=../../2020/1000lbs>V√§gen mot 1000 lbs club</a></li><li class=recents__item><a href=../../2020/coraline>Coraline</a></li><li class=recents__item><a href=../../2020/ungoogled-android>Android utan Googles appar</a></li><li class=recents__item><a href=../../2020/react-future>Twittersnillen om Reacts framtid</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>House of Metal 14 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Folkets hus</span>, Ume√• </span></span><time datetime=2020-02-28T00:00:00Z class=upcoming__item__when itemprop=startDate><span>28</span> <span>feb</span> </time><span class=visuallyhidden itemprop=endDate>Sat Feb 29 2020 01:00:00 GMT+0100 (GMT+01:00)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Cecilia Vasa eller Alla dina damer? Finns i sj√∂n </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Dieselverkstaden</span>, Stockholm </span></span><time datetime=2020-03-29T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>29</span> <span>mar</span></time><div class=visuallyhidden itemprop=description><p><a href=https://karspexet.se/ >K&#xE5;rspexet</a> levererar som alltid!</p></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Uada Pt. II: European Alliance </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Slaktkyrkan</span>, Stockholm </span></span><time datetime=2020-05-03T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>3</span> <span>maj</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Sweden Rock Festival 29 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Norje</span>, S√∂lvesborg </span></span><time datetime=2020-06-03T00:00:00Z class=upcoming__item__when itemprop=startDate><span>3</span> <span>jun</span> </time><span class=visuallyhidden itemprop=endDate>Sat Jun 06 2020 02:00:00 GMT+0200 (GMT+02:00)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Korn </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-06-17T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>17</span> <span>jun</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Disturbed </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-06-24T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>24</span> <span>jun</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Gefle Metal Festival 5 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gasklockorna</span>, G√§vle </span></span><time datetime=2020-07-09T00:00:00Z class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span> </time><span class=visuallyhidden itemprop=endDate>Sat Jul 11 2020 02:00:00 GMT+0200 (GMT+02:00)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Pixies </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-07-27T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>27</span> <span>jul</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Wacken</span>, Tyskland </span></span><time datetime=2020-07-30T00:00:00Z class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span> </time><span class=visuallyhidden itemprop=endDate>Sat Aug 01 2020 02:00:00 GMT+0200 (GMT+02:00)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Jaromƒõ≈ô</span>, Tjeckien </span></span><time datetime=2020-08-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span> </time><span class=visuallyhidden itemprop=endDate>Sat Aug 08 2020 02:00:00 GMT+0200 (GMT+02:00)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li></ul></aside><footer><p>Publicerades <time>2009-04-05</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr√∂m sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och <a href=https://www.quirksmode.org/blog/archives/2020/01/css4_is_here.html>CSS4</a>.</p></footer></body></html>