<!doctype html><html lang=sv><head><meta charset=UTF-8><title>vertikal centrering med CSS, anno 2009 | Skrivna ord av Anders Ytterstr칬m.</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2009/117/ ><meta property=og:title content="vertikal centrering med CSS, anno 2009"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2009/117/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterstr칬m."></head><body><a href=#content class=skiplink>Hoppa till inneh친ll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018."></a><p class=presentation>Anders 칛r en webbutvecklare och h친rdrockare som gillar br칛dspel, kaffe och 칬l. <a href=../../om/ rel=author>Om Anders Ytterstr칬m</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../bl/ >游뱆 Br칲tal Legend</a> <a class=nav__item href=../../evenemang/ >游늰 Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >游 Br칛dspel</a></nav></header><main id=content><p class=alert--archived><i>Detta 칛r ett arkiverat inl칛gg, som importerats hit f칬r referens. Det kan se konstigt ut och inneh친lla utdaterad information eller inaktuella 친sikter.</i></p><article><h1>vertikal centrering med CSS, anno 2009</h1><p>En av mina popul칛raste sidor enligt google 칛r min utv칛rdering av <a href=/blog/64>vertikal centrering med CSS</a>. Jag har sedan en tid k칛nt att det inl칛gget inte 칛r riktigt komplett, d친 det saknas handfast kod p친 hur det praktiskt g친r till att skapa vertikal centrering f칬r alla webbl칛sare, till och med <a href=/blog/113 title="Vad g칬r du f칬r att slippa Internet Explorer 6?">IE6</a>. Nyfikna l칛sare m친ste l칛sa hela min text och klicka sig vidare i en l칛nk l칛ngst ner, och gissa sig fram till koden. Inte s친 schysst. Ist칛llet f칬r att uppdatera inl칛gget kompletterar jag med ett nytt, som visar hur en praktisk CSS-klass <code>valignfix</code> skapas, men ocks친 hur CSS-koden kan anv칛ndas p친 enstaka element.</p><h2>HTML-kod att utg친 fr친n</h2><p>Min f칬ljande CSS-kod utg친r fr친n en HTML-kod, bara f칬r att visa ett exempel.</p><pre><code>&lt;div class=&quot;valignfix&quot;&gt;
        &lt;div&gt;
                &lt;div&gt;
                        &lt;h1&gt;Vertikalt centrerad&lt;/h1&gt;
                        &lt;h2&gt;Jag ligger minsann i mitten!&lt;/h2&gt;
                &lt;/div&gt;
        &lt;/div&gt;
        &lt;img src=&quot;matterhorn.jpg&quot; alt=&quot;Matternhorn, ett h칬gt berg&quot;&gt;
&lt;/div&gt;
</code></pre><p>HTML-koden ser ut s친 baserat p친 en rad f칬ruts칛ttningar och beslut baserade p친 god semantik och skalbarhet.</p><ul><li><code>valignfix</code> anv칛nds f칬r att skapa ett 친teranv칛ndbart macro, i stil med <a href=http://www.positioniseverything.net/easyclearing.html title="How To Clear Floats Without Structural Markup">clearfix</a>.</li><li>Inga on칬diga klassnamn eller ID.</li><li>Den f칬rsta <code>&lt;div&gt;</code> inneh친ller det inneh친ll som ska positioneras vertikalt. F칬r att underl칛tta gruppering och f친 det att fungera i IE6 och IE7 l칛ggs inneh친llet i ytterligare en <code>&lt;div&gt;</code>.</li><li>T칛tt f칬ljt av det centrerade inneh친llet 칛r det inneh친ll som 칛r h칬gt, i exemplet en bild. Men det kan lika g칛rna vara n친got annat, t ex en meny.</li></ul><h2>CSS-tabeller s칛tter hjulet i rullning</h2><p>F칬r alla moderna webbl칛sare finns ett utbrett och redan bepr칬vat st칬d f칬r <em>CSS-tabeller</em>. Genom att anv칛nda <code>display:table</code> och <code>display:table-cell</code> 칛r vi mer 칛n halvv칛gs.</p><pre><code>*.valign {
        display:table-row;
}
        *.valign &gt; * {
                width:50%;
                display:table-cell;
                vertical-align:middle;
        }
</code></pre><p>Ovanst친ende l칬sning 칛r fullt tillr칛cklig f칬r Internet Explorer 8+, Firefox 2+, Opera 8+ och Safari 2+. Vi har de roliga kvar: IE7 och IE6.</p><h2>IE7 och IE6 l칬ser det med positionering</h2><p>Vid utvecklingen av IE7 prioriterade Microsoft upp CSS2 selektorer och allvarliga renderingsbuggar, men st칬det f칬r CSS-tabeller uteblev. Med hj칛lp av ett CSS filter f칬r de b친da webbl칛sarna g친r det att g칬ra en liknande l칬sning med en blandning av absolut och relativ positionering. B친de IE6 och IE7 fungerar med <a href="http://css-discuss.incutio.com/?page=StarHtmlHack" title="Star HTML hack">stj칛rna HTML hacket</a>, den osynliga wrappern kring <code>&lt;html&gt;</code>.</p><pre><code>* html *.valign,
*+html *.valign {
        position:relative;
        overflow:auto;
}
        * html *.valign div,
        *+html *.valign div {
                position:absolute;
                top:50%;
        }
                * html *.valign div div,
                *+html *.valign div div {
                        position:relative;
                        top:-50%;
                }
                        * html *.valign div div *,
                        *+html *.valign div div * {
                                position:static;
                                top:0;
                        }
        /* g칬r bilden eller annat h칬gt element till float. */
        * html *.valign img,
        *+html *.valign img {
                float:right;
        }
</code></pre><h2>Det linkar, men 칛r inte identisk</h2><p>V칛rt att ha i 친tanke 칛r att l칬sningen f칬r IE7 och IE6 칛r inte fullt s친 anv칛ndbar och skalbar som CSS tables.</p><ul><li>Det h칬ga objektet m친ste vara definierat i f칬rv칛g f칬r att n친got inneh친ll 칬verhuvudtaget ska kunna centreras.</li><li>Det h칬ga objektet m친ste anpassas med floats f칬r att ligga till h칬ger eller v칛nster.</li><li>Det vertikalt centrerade inneh친llet kan beh칬va extra positions-CSS f칬r att ligga r칛tt, vilket kan inneb칛ra att dimensionerna p친 det h칬ga objektet m친ste vara best칛mt.</li></ul><p>Det t칛pper likv칛l igen h친len i de flesta fall d칛r vertikal centrering 칛r 칬nskv칛rt. Koden validerar och kan s칛kert anv칛ndas i samma CSS-fil, 칛ven om jag personligen f칬redrar att g칬mma IE-kod i en egen CSS-fil som infogas via <a href=http://en.wikipedia.org/wiki/Conditional_comments>Conditional Comments</a> Den 칛r framtidss칛ker, d친 anv칛nt CSS filter upph칬r att fungera fr o m IE8 d칛r CSS tables fungerar korrekt.</p><p>Och d칛r har vi det. En ren CSS-l칬sning f칬r vertikal centrering. Ta en titt i <a href=/~ay/labs/css/valign>exempelfilen</a> f칬r att se resultatet. Jag har en <a href=/~ay/labs/css/valign/valign.css>rikligt dokumenterad version</a> och en <a href=/~ay/labs/css/valign/valign-mini.css>kompakt version f칬r produktion</a> att ta del av vid intresse!</p></article></main><aside><h2 class=h--aside>Senaste inl칛ggen</h2><ul class=recents><li class=recents__item><a href=../../2019/meta>Tuffa saker i senaste iterationen av madr.se</a></li><li class=recents__item><a href=../../2019/apps>Vad ber칛ttar mina program om mig?</a></li><li class=recents__item><a href=../../2019/ridderligheten>G칛rning i ridderlighetens namn</a></li><li class=recents__item><a href=../../2019/react-redux>Varf칬r och hur jag ska f칬rdjupa mig i React 2019</a></li><li class=recents__item><a href=../../2019/elixir>Varf칬r och hur jag ska fokusera p친 att l칛ra mig Elixir 2019</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Mayhem </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-11-29T00:00:00Z class=upcoming__item__when itemprop=startDate><span>29</span> <span>nov</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wardruna </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-12-01T00:00:00Z class=upcoming__item__when itemprop=startDate><span>1</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Amon Amarth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-12-07T00:00:00Z class=upcoming__item__when itemprop=startDate><span>7</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Solstafir </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-12-18T00:00:00Z class=upcoming__item__when itemprop=startDate><span>18</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Opeth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Cirkus</span>, Stockholm </span><time datetime=2020-01-13T00:00:00Z class=upcoming__item__when itemprop=startDate><span>13</span> <span>jan</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Coraline </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Folkoperan</span>, Stockholm </span><time datetime=2020-02-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>feb</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Gefle Metal Festival 4 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Gasklockorna</span>, G칛vle </span><time datetime=2020-07-09T00:00:00Z class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Wacken</span>, Tyskland </span><time datetime=2020-07-30T00:00:00Z class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Jarom캩콏</span>, Tjeckien </span><time datetime=2020-08-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span></time></li></ul></aside><footer><p>Publicerades <time>2009-04-05</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr칬m sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och CSS 3.</p></footer></body></html>