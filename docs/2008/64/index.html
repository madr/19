<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Vertikal centrering med CSS | Skrivna ord av Anders Ytterstr√∂m</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2008/64/ ><meta property=og:title content="Vertikal centrering med CSS"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2008/64/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterstr√∂m"></head><body><a href=#content class=skiplink>Hoppa till inneh√•ll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018." loading=lazy></a><p class=presentation>Anders √§r en webbutvecklare och h√•rdrockare som gillar br√§dspel, kaffe och √∂l. <a href=../../om/ rel=author>Om Anders Ytterstr√∂m</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../1/ >‚úí Inl√§gg</a> <a class=nav__item href=../../bl/ >ü§ò Br√ºtal Legend</a> <a class=nav__item href=../../evenemang/ >üìÖ Evenemang</a> <a class=nav__item href=https://madr.github.io/mybgg/ >üé≤ Br√§dspel</a> <a class=nav__item href=https://madr.github.io/urban-enigma/ >ü¶æ Styrketr√§ning</a></nav></header><main id=content><p class=alert--archived><i>Detta √§r ett arkiverat inl√§gg, som importerats hit f√∂r referens. Det kan se konstigt ut och inneh√•lla utdaterad information eller inaktuella √•sikter.</i></p><article itemscope itemtype=http://schema.org/BlogPosting><header><h1 itemprop=headline>Vertikal centrering med CSS</h1></header><div itemprop=articleBody><p>Innan CSS blev rekommendation fanns bara presentationsuppm&#xE4;rkning i HTML att anv&#xE4;nda sig av f&#xF6;r att g&#xF6;ra alla formgivare och kunder n&#xF6;jda. Utav alla l&#xF6;sningar som fanns var tabeller den allra kraftfullaste. <a href=http://www.456bereastreet.com/archive/200511/reveal_your_old_school_web_development_hacks/ title="Reveal your old school web development hacks, 456 Berea st.">Knepen f&#xF6;r design var fantasifulla</a>, men numera har alla gr&#xE4;nssnittsutvecklare med litet v&#xE4;rdighet i kroppen &#xF6;vergett dessa f&#xF6;r att &#xF6;verg&#xE5; till l&#xF6;sningar som bygger p&#xE5; webbstandarder.</p><p>De flesta saknar inte tabellbaserade layouter, eftersom CSS ger m&#xF6;jligheter att ha snygg och ren uppm&#xE4;rkning utan att inverka p&#xE5; presentationen. Men det finns likv&#xE4;l vissa CSS-implementationer som alla, till och med religi&#xF6;sa webbstandardsadvokater, sliter sitt h&#xE5;r f&#xF6;r som p&#xE5; tabellernas era var l&#xE4;tt som en pl&#xE4;tt att implementera. En av dessa &#xE4;r att <em>vertikalt centrera blockelement i f&#xF6;rh&#xE5;llande till n&#xE4;rliggande blockelement.</em></p><p>Vertikal centrering, med tabeller</p><ol><li><p>``</p></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p><code></code></p><p>Statement:</p></li><li><p><code></code></p><h2 id=i-am-vertically-centered>I am vertically centered!<a class=anchor href=#i-am-vertically-centered>&#xB6;</a></h2></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p><code></code> ::: {.p_embed .p_image_embed} :::</p></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p>``</p></li></ol><p>+-----------------------------------+-----------------------------------+ | Statement: | ::: {.p_embed .p_image_embed} | | | ::: | | I am vertically centered! | | | ------------------------- | | +-----------------------------------+-----------------------------------+</p><p>R&#xE4;ttframt och effektivt. Detta saknar helt motstycke i CSS.</p><p>Vad som st&#xE4;ller till det</p><ul><li><strong>Ok&#xE4;nd h&#xF6;jd p&#xE5; block.</strong> I regel finns det alltid en statisk bredd p&#xE5; en sida, satt i pixlar, <code>em</code> eller procent. Det &#xE4;r naturligt att g&#xF6;ra s&#xE5;, och det visste man n&#xE4;r CSS implementerades. Detsamma g&#xE5;r inte att s&#xE4;ga om h&#xF6;jd, eftersom inneh&#xE5;ll n&#xE4;stan alltid best&#xE5;r av l&#xF6;pande text som skall kunna f&#xF6;rstoras och f&#xF6;rminskas, eller radbrytas beroende p&#xE5; webbl&#xE4;sarf&#xF6;nstrets dimensioner.</li><li><strong>Ingen kontroll p&#xE5; blockh&#xF6;jder p&#xE5; CSS-niv&#xE5;.</strong> Att centrera horisontellt kan g&#xF6;ras smart via automarginaler och <code>text-align: center;</code> i en handv&#xE4;ndning. S&#xE5;dana snabba l&#xF6;sningar saknas helt i CSS n&#xE4;r det kommer till att g&#xF6;ra detsamma vertikalt.</li><li><strong>D&#xE5;ligt webbl&#xE4;sarst&#xF6;d f&#xF6;r CSS.</strong> CSS2 inneh&#xE5;ller n&#xE5;gra egenskaper f&#xF6;r <a href=http://www.w3.org/TR/CSS21/visuren.html#display-prop title="Display property, W3C">display</a> som skulle kunna l&#xF6;sa problemet: <code>table</code>, <code>table-cell</code>, <code>table-row</code> och m&#xF6;jligtvis ocks&#xE5; <code>inline-block</code>. Dessv&#xE4;rre l&#xE4;mnar webbl&#xE4;sarst&#xF6;det mycket att &#xF6;nska. Det som r&#xF6;r tabeller st&#xF6;ds inte av Internet Explorer, och <code>inline-block</code> st&#xF6;ds inte av Firefox (2.0.11).</li></ul><p>L&#xE5;t oss best&#xE4;mma vad som definierar en godtycklig l&#xF6;sning f&#xF6;r vertikal centrering.</p><ul><li>L&#xF6;sningen skall baseras p&#xE5; webbstandarder och vara semantiskt korrekt, med n&#xF6;dv&#xE4;ndiga kompromisser. <em>(tabeller utr&#xE4;knade!)</em></li><li>CSS och HTML skall validera.</li><li>Fungerar i alla moderna webbl&#xE4;sare, samt de popul&#xE4;raste. <em>(Internet Explorer)</em></li><li>Oberoende av dimensioner; centreringen skall fungera utan exempelvis <code>height: 250px;</code>.</li><li>Conditional Comments skall inte anv&#xE4;ndas (krav fr&#xE5;n min arbetsgivare).</li></ul><p>Hur har andra l&#xF6;st det d&#xE5;?</p><p>Roger Johansson har ett fungerande exempel i sitt labb p&#xE5; <a href=http://www.456bereastreet.com/lab/equal_height_ii/ >456 Berea Street: Equal height boxes with CSS, part II</a>. Denna demonstrerar hur det skulle kunna l&#xF6;sas i en v&#xE4;rld utan Internet Explorer. Med andra ord &#xE4;r vi l&#xE5;ngt ifr&#xE5;n klara i det h&#xE4;r skedet.</p><p><a href=http://www.evolt.org/article/Ten_CSS_tricks_you_may_not_know/17/60369/ title="Ten CSS tricks you didn&apos;t know about, evolt.org">Trenton Moss</a> &#xE4;r en av flera som valt att l&#xF6;sa det via <code>line-height</code>:</p><blockquote><p>Specify the line height to be the same as the height of the box itself in the CSS. In this instance, the box is 2em high, so we would insert line-height: 2em into the CSS rule and the text now floats in the middle of the box - perfect!</p></blockquote><p>Detta skapar en vertikal centrering i alla webbl&#xE4;sare, men fungerar enbart f&#xF6;r enstaka element. Endast en rubrik, endast ett stycke, och s&#xE5; vidare. Det f&#xF6;ruts&#xE4;tter ocks&#xE5; att vi best&#xE4;mmer h&#xF6;jden, vilket inte &#xE4;r acceptabelt.</p><p>V&#xE5;ra alternativ b&#xF6;rjar reduceras. Google hittar inte n&#xE5;got &#xE5;t oss till en b&#xF6;rjan, men efter att ha vaskat ordentligt f&#xE5;r vi fram <a href=http://www.jakpsatweb.cz/css/css-vertical-center-solution.html>Jak ps&#xE1;t web: CSS vertical center solution</a>. Denna l&#xF6;sning n&#xE4;rmar sig den vi &#xE4;r ute efter, d&#xE5; Jak insett att h&#xF6;jden inte b&#xF6;r s&#xE4;ttas. L&#xF6;sningen implementerar detsamma som Roger Johansson, och kompletterar med fix f&#xF6;r Internet Explorer som dessutom validerar. L&#xF6;sningen anv&#xE4;nder sig av en wrapper och tv&#xE5; inre <code>div</code>:ar, vilket k&#xE4;nns som en godtaglig kompromiss.</p><p>Ljuset av tunneln</p><p>Lysande. Men f&#xF6;rb&#xE4;ttringar kan fortfarande g&#xF6;ras. L&#xF6;sningen &#xE4;r oberoende av h&#xF6;jden p&#xE5; det inre inneh&#xE5;llet, men wrappern beh&#xF6;ver fortfarande en fast h&#xF6;jd f&#xF6;r att l&#xF6;sningen skall fungera i Internet Explorer. Dessutom fungerar inte fixet i IE7. Jag tog mig d&#xE4;rf&#xF6;r friheten att komplettera med det sista som beh&#xF6;vs.</p><p>Jag slutade med en fungerande vertikal centrering, oberoende av h&#xF6;jd. Ett fungerande exempel finns i mitt labb. Anv&#xE4;nd koden f&#xF6;r all del, men gl&#xF6;m inte vem som gav er den. :)</p><p>Att hitta IE7-filtret var f&#xF6;r &#xF6;vrigt <em>inte</em> l&#xE4;tt. Sedan IE7 fixade fullt st&#xF6;d f&#xF6;r CSS2.1 selektorer &#xE4;r det fruktansv&#xE4;rt sv&#xE5;rt att komma runt IE7 utan Conditional Comments. Det h&#xE4;r filtret &#xE4;r det enda jag hittade som b&#xE5;de validerar och sorterar ut CSS till <em>enbart</em> moderna webbl&#xE4;sare. Jag rekommenderar alla starkt att <strong>att anv&#xE4;nda Conditional Comments ist&#xE4;llet f&#xF6;r att hacka sig runt</strong>, d&#xE5; IE8 h&#xF6;gst troligtvis har gjort n&#xE5;got &#xE5;t buggen som skapar m&#xF6;jligheter f&#xF6;r filtret. Conditional Comments &#xE4;r det enda r&#xE4;tta.</p><ul><li><a href=http://src.madr.se/css/valignFix/ex1.html>Exempel 1: med h&#xF6;gerst&#xE4;lld bild</a></li><li><a href=http://src.madr.se/css/valignFix/ex2.html>Exempel 2: tv&#xE5; flytande columner</a></li><li><a href=http://src.madr.se/css/valignFix/ex3.html>Exempel 3: utan bild (h&#xF6;jd angiven)</a></li></ul><p>Testad i f&#xF6;ljande webbl&#xE4;sare: : Firefox 2 : Internet Explorer 6 : Internet Explorer 7 : Opera 9 : Safari 3</p><p><strong>Viktigt:</strong> Opera placerar den flytande bilden i exempel 1 litet konstigt. IE7 placerar inte heller det centrerade inneh&#xE5;llet exakt i mitten i samma exempel. B&#xE5;da problemen f&#xF6;rsvinner dock om en bredd anges.</p></div><footer class=visuallyhidden><time itemprop=datePublished>2008-01-13</time> av <span itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>Anders Ytterstr√∂m</span>.</span></footer></article></main><aside><h2 class=h--aside>Senaste inl√§ggen</h2><ul class=recents><li class=recents__item><a href=../../2020/house-of-metal-14>House of Metal 14</a></li><li class=recents__item><a href=../../2020/telefon>√ñnskelista inf√∂r telefonbytet 2022-2025</a></li><li class=recents__item><a href=../../2020/1000lbs>V√§gen mot 1000 lbs club</a></li><li class=recents__item><a href=../../2020/coraline>Coraline</a></li><li class=recents__item><a href=../../2020/ungoogled-android>Android utan Googles appar</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Cecilia Vasa eller Alla dina damer? Finns i sj√∂n </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Dieselverkstaden</span>, Stockholm </span></span><time datetime=2020-03-29T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>29</span> <span>mar</span></time><div class=visuallyhidden itemprop=description><p><a href=https://karspexet.se/ >K&#xE5;rspexet</a> levererar som alltid!</p></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Uada Pt. II: European Alliance </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Slaktkyrkan</span>, Stockholm </span></span><time datetime=2020-05-03T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>3</span> <span>maj</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Sweden Rock Festival 29 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Norje</span>, S√∂lvesborg </span></span><time datetime=2020-06-03T00:00:00Z class=upcoming__item__when itemprop=startDate><span>3</span> <span>jun</span> </time><span class=visuallyhidden itemprop=endDate>Sat Jun 06 2020 02:00:00 GMT+0200 (Central European Summer Time)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Korn </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-06-17T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>17</span> <span>jun</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Disturbed </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-06-24T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>24</span> <span>jun</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Gefle Metal Festival 5 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gasklockorna</span>, G√§vle </span></span><time datetime=2020-07-09T00:00:00Z class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span> </time><span class=visuallyhidden itemprop=endDate>Sat Jul 11 2020 02:00:00 GMT+0200 (Central European Summer Time)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Pixies </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Gr√∂na lund</span>, Stockholm </span></span><time datetime=2020-07-27T00:00:00Z class=upcoming__item__when itemprop="startDate endDate"><span>27</span> <span>jul</span></time><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Wacken</span>, Tyskland </span></span><time datetime=2020-07-30T00:00:00Z class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span> </time><span class=visuallyhidden itemprop=endDate>Sat Aug 01 2020 02:00:00 GMT+0200 (Central European Summer Time)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop="name performer" class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=address><span itemprop=name>Jaromƒõ≈ô</span>, Tjeckien </span></span><time datetime=2020-08-05T00:00:00Z class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span> </time><span class=visuallyhidden itemprop=endDate>Sat Aug 08 2020 02:00:00 GMT+0200 (Central European Summer Time)</span><div class=visuallyhidden itemprop=description></div><span class=visuallyhidden itemprop=address></span></li></ul></aside><footer><p>Publicerades <time>2008-01-13</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr√∂m sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>. Korrekt HTML5 och <a href=https://www.quirksmode.org/blog/archives/2020/01/css4_is_here.html>CSS4</a>.</p></footer></body></html>