<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Vertikal centrering med CSS | Skrivna ord av Anders Ytterstr칬m.</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=../../madrse.css><link href=../../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=stylesheet title="madr.se stilmall" href=../madrse.css><link href=../prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2008/64/ ><meta property=og:title content="Vertikal centrering med CSS"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2008/64/ ><meta property=og:image content=https://madr.se/mugshot.jpg><meta property=og:site_name content="Skrivna ord av Anders Ytterstr칬m."></head><body><a href=#content class=skiplink>Hoppa till inneh친ll</a><header><a href=../../ rel=home><img class=portrait src=../../mugshot.jpg alt="Anders, september 2018."></a><p class=presentation>Anders 칛r en webbutvecklare och h친rdrockare som gillar br칛dspel, kaffe och 칬l. <a href=../../om/ rel=author>Om Anders Ytterstr칬m</a></p><nav><h2 class=visuallyhidden>Meny</h2><a class=nav__item href=../../bl/ >游뱆 Br칲tal Legend</a> <a class=nav__item href=../../evenemang/ >游늰 Evenemang</a></nav></header><main id=content><p class=alert--archived><i>Detta 칛r ett arkiverat inl칛gg, som importerats hit f칬r referens. Det kan se konstigt ut och inneh친lla utdaterad information eller inaktuella 친sikter.</i></p><article><h1>Vertikal centrering med CSS</h1><p>Innan CSS blev rekommendation fanns bara presentationsuppm칛rkning i HTML att anv칛nda sig av f칬r att g칬ra alla formgivare och kunder n칬jda. Utav alla l칬sningar som fanns var tabeller den allra kraftfullaste. <a href=http://www.456bereastreet.com/archive/200511/reveal_your_old_school_web_development_hacks/ title="Reveal your old school web development hacks, 456 Berea st.">Knepen f칬r design var fantasifulla</a>, men numera har alla gr칛nssnittsutvecklare med litet v칛rdighet i kroppen 칬vergett dessa f칬r att 칬verg친 till l칬sningar som bygger p친 webbstandarder.</p><p>De flesta saknar inte tabellbaserade layouter, eftersom CSS ger m칬jligheter att ha snygg och ren uppm칛rkning utan att inverka p친 presentationen. Men det finns likv칛l vissa CSS-implementationer som alla, till och med religi칬sa webbstandardsadvokater, sliter sitt h친r f칬r som p친 tabellernas era var l칛tt som en pl칛tt att implementera. En av dessa 칛r att <em>vertikalt centrera blockelement i f칬rh친llande till n칛rliggande blockelement.</em></p><p>Vertikal centrering, med tabeller</p><ol><li><p>``</p></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p><code></code></p><p>Statement:</p></li><li><p><code></code></p><h2>I am vertically centered!</h2></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p><code></code> ::: {.p_embed .p_image_embed} :::</p></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p>``</p></li></ol><p>+-----------------------------------+-----------------------------------+ | Statement: | ::: {.p_embed .p_image_embed} | | | ::: | | I am vertically centered! | | | ------------------------- | | +-----------------------------------+-----------------------------------+</p><p>R칛ttframt och effektivt. Detta saknar helt motstycke i CSS.</p><p>Vad som st칛ller till det</p><ul><li><strong>Ok칛nd h칬jd p친 block.</strong> I regel finns det alltid en statisk bredd p친 en sida, satt i pixlar, <code>em</code> eller procent. Det 칛r naturligt att g칬ra s친, och det visste man n칛r CSS implementerades. Detsamma g친r inte att s칛ga om h칬jd, eftersom inneh친ll n칛stan alltid best친r av l칬pande text som skall kunna f칬rstoras och f칬rminskas, eller radbrytas beroende p친 webbl칛sarf칬nstrets dimensioner.</li><li><strong>Ingen kontroll p친 blockh칬jder p친 CSS-niv친.</strong> Att centrera horisontellt kan g칬ras smart via automarginaler och <code>text-align: center;</code> i en handv칛ndning. S친dana snabba l칬sningar saknas helt i CSS n칛r det kommer till att g칬ra detsamma vertikalt.</li><li><strong>D친ligt webbl칛sarst칬d f칬r CSS.</strong> CSS2 inneh친ller n친gra egenskaper f칬r <a href=http://www.w3.org/TR/CSS21/visuren.html#display-prop title="Display property, W3C">display</a> som skulle kunna l칬sa problemet: <code>table</code>, <code>table-cell</code>, <code>table-row</code> och m칬jligtvis ocks친 <code>inline-block</code>. Dessv칛rre l칛mnar webbl칛sarst칬det mycket att 칬nska. Det som r칬r tabeller st칬ds inte av Internet Explorer, och <code>inline-block</code> st칬ds inte av Firefox (2.0.11).</li></ul><p>L친t oss best칛mma vad som definierar en godtycklig l칬sning f칬r vertikal centrering.</p><ul><li>L칬sningen skall baseras p친 webbstandarder och vara semantiskt korrekt, med n칬dv칛ndiga kompromisser. <em>(tabeller utr칛knade!)</em></li><li>CSS och HTML skall validera.</li><li>Fungerar i alla moderna webbl칛sare, samt de popul칛raste. <em>(Internet Explorer)</em></li><li>Oberoende av dimensioner; centreringen skall fungera utan exempelvis <code>height: 250px;</code>.</li><li>Conditional Comments skall inte anv칛ndas (krav fr친n min arbetsgivare).</li></ul><p>Hur har andra l칬st det d친?</p><p>Roger Johansson har ett fungerande exempel i sitt labb p친 <a href=http://www.456bereastreet.com/lab/equal_height_ii/ >456 Berea Street: Equal height boxes with CSS, part II</a>. Denna demonstrerar hur det skulle kunna l칬sas i en v칛rld utan Internet Explorer. Med andra ord 칛r vi l친ngt ifr친n klara i det h칛r skedet.</p><p><a href=http://www.evolt.org/article/Ten_CSS_tricks_you_may_not_know/17/60369/ title="Ten CSS tricks you didn't know about, evolt.org">Trenton Moss</a> 칛r en av flera som valt att l칬sa det via <code>line-height</code>:</p><blockquote><p>Specify the line height to be the same as the height of the box itself in the CSS. In this instance, the box is 2em high, so we would insert line-height: 2em into the CSS rule and the text now floats in the middle of the box - perfect!</p></blockquote><p>Detta skapar en vertikal centrering i alla webbl칛sare, men fungerar enbart f칬r enstaka element. Endast en rubrik, endast ett stycke, och s친 vidare. Det f칬ruts칛tter ocks친 att vi best칛mmer h칬jden, vilket inte 칛r acceptabelt.</p><p>V친ra alternativ b칬rjar reduceras. Google hittar inte n친got 친t oss till en b칬rjan, men efter att ha vaskat ordentligt f친r vi fram <a href=http://www.jakpsatweb.cz/css/css-vertical-center-solution.html>Jak ps치t web: CSS vertical center solution</a>. Denna l칬sning n칛rmar sig den vi 칛r ute efter, d친 Jak insett att h칬jden inte b칬r s칛ttas. L칬sningen implementerar detsamma som Roger Johansson, och kompletterar med fix f칬r Internet Explorer som dessutom validerar. L칬sningen anv칛nder sig av en wrapper och tv친 inre <code>div</code>:ar, vilket k칛nns som en godtaglig kompromiss.</p><p>Ljuset av tunneln</p><p>Lysande. Men f칬rb칛ttringar kan fortfarande g칬ras. L칬sningen 칛r oberoende av h칬jden p친 det inre inneh친llet, men wrappern beh칬ver fortfarande en fast h칬jd f칬r att l칬sningen skall fungera i Internet Explorer. Dessutom fungerar inte fixet i IE7. Jag tog mig d칛rf칬r friheten att komplettera med det sista som beh칬vs.</p><p>Jag slutade med en fungerande vertikal centrering, oberoende av h칬jd. Ett fungerande exempel finns i mitt labb. Anv칛nd koden f칬r all del, men gl칬m inte vem som gav er den. :)</p><p>Att hitta IE7-filtret var f칬r 칬vrigt <em>inte</em> l칛tt. Sedan IE7 fixade fullt st칬d f칬r CSS2.1 selektorer 칛r det fruktansv칛rt sv친rt att komma runt IE7 utan Conditional Comments. Det h칛r filtret 칛r det enda jag hittade som b친de validerar och sorterar ut CSS till <em>enbart</em> moderna webbl칛sare. Jag rekommenderar alla starkt att <strong>att anv칛nda Conditional Comments ist칛llet f칬r att hacka sig runt</strong>, d친 IE8 h칬gst troligtvis har gjort n친got 친t buggen som skapar m칬jligheter f칬r filtret. Conditional Comments 칛r det enda r칛tta.</p><ul><li><a href=http://src.madr.se/css/valignFix/ex1.html>Exempel 1: med h칬gerst칛lld bild</a></li><li><a href=http://src.madr.se/css/valignFix/ex2.html>Exempel 2: tv친 flytande columner</a></li><li><a href=http://src.madr.se/css/valignFix/ex3.html>Exempel 3: utan bild (h칬jd angiven)</a></li></ul><p>Testad i f칬ljande webbl칛sare: : Firefox 2 : Internet Explorer 6 : Internet Explorer 7 : Opera 9 : Safari 3</p><p><strong>Viktigt:</strong> Opera placerar den flytande bilden i exempel 1 litet konstigt. IE7 placerar inte heller det centrerade inneh친llet exakt i mitten i samma exempel. B친da problemen f칬rsvinner dock om en bredd anges.</p></article></main><aside><h2 class=h--aside>Senaste inl칛ggen</h2><ul class=recents><li class=recents__item><a href=../../2019/apps>Vad ber칛ttar mina program om mig?</a></li><li class=recents__item><a href=../../2019/ridderligheten>G칛rning i ridderlighetens namn</a></li><li class=recents__item><a href=../../2019/react-redux>Varf칬r och hur jag ska f칬rdjupa mig i React 2019</a></li><li class=recents__item><a href=../../2019/elixir>Varf칬r och hur jag ska fokusera p친 att l칛ra mig Elixir 2019</a></li><li class=recents__item><a href=../../2019/brutallegend-17>Angel Witch - Angel Witch #bl17</a></li></ul><h2 class=h--aside>Kommande evenemang</h2><ul class=upcoming><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Mayhem </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>29</span> <span>nov</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wardruna </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>1</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Amon Amarth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Annexet</span>, Stockholm </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>7</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Solstafir </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Fryshuset</span>, Stockholm </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>18</span> <span>dec</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Opeth </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Cirkus</span>, Stockholm </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>13</span> <span>jan</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Coraline </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Folkoperan</span>, Stockholm </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>5</span> <span>feb</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Gefle Metal Festival 4 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Gasklockorna</span>, G칛vle </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>9</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Wacken Open Air 31 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Wacken</span>, Tyskland </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>30</span> <span>jul</span></time></li><li class=upcoming__item itemscope itemtype=http://schema.org/Event><strong itemprop=name class=upcoming__item__what>Brutal Assault 25 </strong><span class=upcoming__item__where itemprop=location itemscope itemtype=http://schema.org/Place><span itemprop=name>Jarom캩콏</span>, Tjeckien </span><time datetime=2019-11-29 content=2019-11-29 class=upcoming__item__when itemprop=startDate><span>5</span> <span>aug</span></time></li></ul></aside><footer><p>Publicerades <time>2008-01-13</time>. <a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr칬m sedan dec 2006. <a rel=alternate href=../../prenumerera.xml>Prenumerera</a>.</p></footer></body></html>