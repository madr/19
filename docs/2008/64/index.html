<!doctype html><html lang=sv><head><meta charset=UTF-8><title>Vertikal centrering med CSS | Anders Ytterstr√∂ms hemsida</title><meta name=viewport content="width=device-width"><link rel=stylesheet title="madr.se stilmall" href=/madrse.css><link href=/prenumerera.xml type=application/atom+xml rel=alternate title=madr.se><link rel=canonical href=https://madr.se//2008/64/ ><meta property=og:title content="Vertikal centrering med CSS"><meta property=og:type content=article><meta property=og:url content=https://madr.se//2008/64/ ><meta property=og:image content=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276><meta property=og:site_name content="Anders Ytterstr√∂ms hemsida"></head><body><a href=#content class=skiplink>Hoppa till inneh√•ll</a><header><a href=/ rel=home>madr.se</a><nav><a href=/bl/ >ü§ò Br√ºtal Legend</a> <a href=/evenemang/ >üìÖ Evenemang</a> <a href=/om/ >ü§∑‚Äç‚ôÇÔ∏è Om</a> <a href=http://broken-close-swan.gigalixirapp.com/live>üé≤ RISK</a> <a href=/prenumerera.xml rel=alternate title="Prenumerera via Atom">üì£</a></nav></header><main id=content><p class=alert--archived><i>Detta √§r ett arkiverat inl√§gg, som importerats hit f√∂r referens. Det kan se konstigt ut och inneh√•lla utdaterad information eller inaktuella √•sikter.</i></p><article><h1>Vertikal centrering med CSS</h1><footer><time>2008-01-13</time> av <a rel=author href=/om><img src=https://sv.gravatar.com/avatar/981e98db0f85baaa05dddd1ee46a3276 alt=portr√§tt> Anders Ytterstr√∂m</a></footer><p>Innan CSS blev rekommendation fanns bara presentationsuppm√§rkning i HTML att anv√§nda sig av f√∂r att g√∂ra alla formgivare och kunder n√∂jda. Utav alla l√∂sningar som fanns var tabeller den allra kraftfullaste. <a href=http://www.456bereastreet.com/archive/200511/reveal_your_old_school_web_development_hacks/ title="Reveal your old school web development hacks, 456 Berea st.">Knepen f√∂r design var fantasifulla</a>, men numera har alla gr√§nssnittsutvecklare med litet v√§rdighet i kroppen √∂vergett dessa f√∂r att √∂verg√• till l√∂sningar som bygger p√• webbstandarder.</p><p>De flesta saknar inte tabellbaserade layouter, eftersom CSS ger m√∂jligheter att ha snygg och ren uppm√§rkning utan att inverka p√• presentationen. Men det finns likv√§l vissa CSS-implementationer som alla, till och med religi√∂sa webbstandardsadvokater, sliter sitt h√•r f√∂r som p√• tabellernas era var l√§tt som en pl√§tt att implementera. En av dessa √§r att <em>vertikalt centrera blockelement i f√∂rh√•llande till n√§rliggande blockelement.</em></p><p>Vertikal centrering, med tabeller</p><ol><li><p>``</p></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p><code></code></p><p>Statement:</p></li><li><p><code></code></p><h2 id=i-am-vertically-centered->I am vertically centered!</h2></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p><code></code> ::: {.p_embed .p_image_embed} :::</p></li><li><p><code></code></p></li><li><p><code></code></p></li><li><p>``</p></li></ol><p>+-----------------------------------+-----------------------------------+ | Statement: | ::: {.p_embed .p_image_embed} | | | ::: | | I am vertically centered! | | | ------------------------- | | +-----------------------------------+-----------------------------------+</p><p>R√§ttframt och effektivt. Detta saknar helt motstycke i CSS.</p><p>Vad som st√§ller till det</p><ul><li><strong>Ok√§nd h√∂jd p√• block.</strong> I regel finns det alltid en statisk bredd p√• en sida, satt i pixlar, <code>em</code> eller procent. Det √§r naturligt att g√∂ra s√•, och det visste man n√§r CSS implementerades. Detsamma g√•r inte att s√§ga om h√∂jd, eftersom inneh√•ll n√§stan alltid best√•r av l√∂pande text som skall kunna f√∂rstoras och f√∂rminskas, eller radbrytas beroende p√• webbl√§sarf√∂nstrets dimensioner.</li><li><strong>Ingen kontroll p√• blockh√∂jder p√• CSS-niv√•.</strong> Att centrera horisontellt kan g√∂ras smart via automarginaler och <code>text-align: center;</code> i en handv√§ndning. S√•dana snabba l√∂sningar saknas helt i CSS n√§r det kommer till att g√∂ra detsamma vertikalt.</li><li><strong>D√•ligt webbl√§sarst√∂d f√∂r CSS.</strong> CSS2 inneh√•ller n√•gra egenskaper f√∂r <a href=http://www.w3.org/TR/CSS21/visuren.html#display-prop title="Display property, W3C">display</a> som skulle kunna l√∂sa problemet: <code>table</code>, <code>table-cell</code>, <code>table-row</code> och m√∂jligtvis ocks√• <code>inline-block</code>. Dessv√§rre l√§mnar webbl√§sarst√∂det mycket att √∂nska. Det som r√∂r tabeller st√∂ds inte av Internet Explorer, och <code>inline-block</code> st√∂ds inte av Firefox (2.0.11).</li></ul><p>L√•t oss best√§mma vad som definierar en godtycklig l√∂sning f√∂r vertikal centrering.</p><ul><li>L√∂sningen skall baseras p√• webbstandarder och vara semantiskt korrekt, med n√∂dv√§ndiga kompromisser. <em>(tabeller utr√§knade!)</em></li><li>CSS och HTML skall validera.</li><li>Fungerar i alla moderna webbl√§sare, samt de popul√§raste. <em>(Internet Explorer)</em></li><li>Oberoende av dimensioner; centreringen skall fungera utan exempelvis <code>height: 250px;</code>.</li><li>Conditional Comments skall inte anv√§ndas (krav fr√•n min arbetsgivare).</li></ul><p>Hur har andra l√∂st det d√•?</p><p>Roger Johansson har ett fungerande exempel i sitt labb p√• <a href=http://www.456bereastreet.com/lab/equal_height_ii/ >456 Berea Street: Equal height boxes with CSS, part II</a>. Denna demonstrerar hur det skulle kunna l√∂sas i en v√§rld utan Internet Explorer. Med andra ord √§r vi l√•ngt ifr√•n klara i det h√§r skedet.</p><p><a href=http://www.evolt.org/article/Ten_CSS_tricks_you_may_not_know/17/60369/ title="Ten CSS tricks you didn&#39;t know about, evolt.org">Trenton Moss</a> √§r en av flera som valt att l√∂sa det via <code>line-height</code>:</p><blockquote><p>Specify the line height to be the same as the height of the box itself in the CSS. In this instance, the box is 2em high, so we would insert line-height: 2em into the CSS rule and the text now floats in the middle of the box - perfect!</p></blockquote><p>Detta skapar en vertikal centrering i alla webbl√§sare, men fungerar enbart f√∂r enstaka element. Endast en rubrik, endast ett stycke, och s√• vidare. Det f√∂ruts√§tter ocks√• att vi best√§mmer h√∂jden, vilket inte √§r acceptabelt.</p><p>V√•ra alternativ b√∂rjar reduceras. Google hittar inte n√•got √•t oss till en b√∂rjan, men efter att ha vaskat ordentligt f√•r vi fram <a href=http://www.jakpsatweb.cz/css/css-vertical-center-solution.html>Jak ps√°t web: CSS vertical center solution</a>. Denna l√∂sning n√§rmar sig den vi √§r ute efter, d√• Jak insett att h√∂jden inte b√∂r s√§ttas. L√∂sningen implementerar detsamma som Roger Johansson, och kompletterar med fix f√∂r Internet Explorer som dessutom validerar. L√∂sningen anv√§nder sig av en wrapper och tv√• inre <code>div</code>:ar, vilket k√§nns som en godtaglig kompromiss.</p><p>Ljuset av tunneln</p><p>Lysande. Men f√∂rb√§ttringar kan fortfarande g√∂ras. L√∂sningen √§r oberoende av h√∂jden p√• det inre inneh√•llet, men wrappern beh√∂ver fortfarande en fast h√∂jd f√∂r att l√∂sningen skall fungera i Internet Explorer. Dessutom fungerar inte fixet i IE7. Jag tog mig d√§rf√∂r friheten att komplettera med det sista som beh√∂vs.</p><p>Jag slutade med en fungerande vertikal centrering, oberoende av h√∂jd. Ett fungerande exempel finns i mitt labb. Anv√§nd koden f√∂r all del, men gl√∂m inte vem som gav er den. :)</p><p>Att hitta IE7-filtret var f√∂r √∂vrigt <em>inte</em> l√§tt. Sedan IE7 fixade fullt st√∂d f√∂r CSS2.1 selektorer √§r det fruktansv√§rt sv√•rt att komma runt IE7 utan Conditional Comments. Det h√§r filtret √§r det enda jag hittade som b√•de validerar och sorterar ut CSS till <em>enbart</em> moderna webbl√§sare. Jag rekommenderar alla starkt att <strong>att anv√§nda Conditional Comments ist√§llet f√∂r att hacka sig runt</strong>, d√• IE8 h√∂gst troligtvis har gjort n√•got √•t buggen som skapar m√∂jligheter f√∂r filtret. Conditional Comments √§r det enda r√§tta.</p><ul><li><a href=http://src.madr.se/css/valignFix/ex1.html>Exempel 1: med h√∂gerst√§lld bild</a></li><li><a href=http://src.madr.se/css/valignFix/ex2.html>Exempel 2: tv√• flytande columner</a></li><li><a href=http://src.madr.se/css/valignFix/ex3.html>Exempel 3: utan bild (h√∂jd angiven)</a></li></ul><p>Testad i f√∂ljande webbl√§sare: : Firefox 2 : Internet Explorer 6 : Internet Explorer 7 : Opera 9 : Safari 3</p><p><strong>Viktigt:</strong> Opera placerar den flytande bilden i exempel 1 litet konstigt. IE7 placerar inte heller det centrerade inneh√•llet exakt i mitten i samma exempel. B√•da problemen f√∂rsvinner dock om en bredd anges.</p></article></main><footer><p><a href=https://creativecommons.org/licenses/by-sa/4.0/ lang=en>CC BY-SA 4.0</a> av Anders Ytterstr√∂m sedan dec 2006. <a rel=alternate href=/prenumerera.xml>Prenumerera</a>.</p></footer></body></html>